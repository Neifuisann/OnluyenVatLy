
> OnluyenVatLy@1.0.0 start
> node api/index.js

[dotenv@17.0.0] injecting env (18) from .env ‚Äì üîê encrypt with dotenvx: https://dotenvx.com
[2025-07-22T19:10:38.631Z] [INFO] Server running on port 3003 | {"port":3003,"environment":"development","timestamp":"2025-07-22T19:10:38.630Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: '96dDzVsuImuOk52tqo_WcIdVKyef9EI2',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:10:40.371Z] [INFO] GET /lessons - 302 - 35ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"35ms","timestamp":"2025-07-22T19:10:40.371Z"}
[2025-07-22T19:10:40.550Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 16ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:10:40.550Z"}
[2025-07-22T19:10:40.676Z] [INFO] GET /js/device-id.js - 200 - 6ms | {"method":"GET","url":"/js/device-id.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:10:40.676Z"}
[2025-07-22T19:10:40.678Z] [INFO] GET /css/style.css - 200 - 12ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:10:40.678Z"}
[2025-07-22T19:10:41.633Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:10:41.649Z] [INFO] GET / - 404 - 27ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"27ms","timestamp":"2025-07-22T19:10:41.649Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: 'V3Xt_SgNvAEgn-Rmfn1YDGIxIE9Z0tC5',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:10:43.437Z] [INFO] GET /lessons - 302 - 11ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"11ms","timestamp":"2025-07-22T19:10:43.437Z"}
[2025-07-22T19:10:50.738Z] [INFO] HEAD / - 200 - 1ms | {"method":"HEAD","url":"/","ip":"::1","userAgent":"curl/8.5.0","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:10:50.738Z"}
[2025-07-22T19:10:51.085Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:10:51.085Z"}
[2025-07-22T19:10:51.089Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:10:51.089Z"}
[2025-07-22T19:10:52.750Z] [INFO] Generated test token | {"userType":"admin","tokenId":"868a5fab0602d61de9e946389144663c"}
[2025-07-22T19:10:52.755Z] [INFO] Generated test token | {"userType":"student","tokenId":"362729846a1563be712f7f58187171e1"}
[2025-07-22T19:10:52.760Z] [INFO] GET /api/test-tokens - 200 - 18ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:10:52.760Z"}
[2025-07-22T19:10:52.762Z] [INFO] Generated test token | {"userType":"admin","tokenId":"4243e00d2a13b5bff4f50e02ed0b2ffb"}
[2025-07-22T19:10:52.763Z] [INFO] Generated test token | {"userType":"student","tokenId":"62cd21ae39a4a9591bda9df4331a958c"}
[2025-07-22T19:10:52.765Z] [INFO] GET /api/test-tokens - 200 - 17ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:10:52.765Z"}
[2025-07-22T19:10:52.801Z] [INFO] GET /stats - 401 - 14ms | {"method":"GET","url":"/stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":401,"responseTime":"14ms","timestamp":"2025-07-22T19:10:52.801Z"}
[2025-07-22T19:10:52.807Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:52.808Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:10:52.814Z] [INFO] Generated test token | {"userType":"admin","tokenId":"8db4de08a07e10f1298926ee9215cba9"}
[2025-07-22T19:10:52.814Z] [INFO] Generated test token | {"userType":"student","tokenId":"ca9ca62654aa9525792bc4ca99a0ec0d"}
[2025-07-22T19:10:52.815Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:10:52.815Z"}
[2025-07-22T19:10:52.819Z] [INFO] GET /lessons - 200 - 13ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:10:52.819Z"}
[2025-07-22T19:10:52.864Z] [INFO] Test session created for admin
[2025-07-22T19:10:52.864Z] [INFO] Test authentication applied | {"path":"/admin","userType":"admin","testMode":true}
[2025-07-22T19:10:52.867Z] [INFO] GET /js/nav-mobile.js - 200 - 16ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:10:52.867Z"}
[2025-07-22T19:10:52.870Z] [INFO] GET /js/lessons.js?v=4 - 200 - 18ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:10:52.870Z"}
[2025-07-22T19:10:52.872Z] [INFO] GET /css/style.css - 200 - 24ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:10:52.872Z"}
[2025-07-22T19:10:52.877Z] [INFO] GET /admin - 200 - 15ms | {"method":"GET","url":"/admin","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:10:52.877Z"}
[2025-07-22T19:10:52.902Z] [INFO] GET /css/admin-enhanced.css - 200 - 12ms | {"method":"GET","url":"/css/admin-enhanced.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:10:52.902Z"}
[2025-07-22T19:10:52.907Z] [INFO] GET /js/network-animation.js - 200 - 11ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:10:52.907Z"}
[2025-07-22T19:10:52.911Z] [INFO] GET /css/style.css - 200 - 20ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:10:52.911Z"}
[2025-07-22T19:10:52.914Z] [INFO] Generated test token | {"userType":"admin","tokenId":"d364c6c0e1d1dba613dfd85c0d58d22a"}
[2025-07-22T19:10:52.914Z] [INFO] Generated test token | {"userType":"student","tokenId":"13d799e398ee9f98eeac0188b2c463b7"}
[2025-07-22T19:10:52.916Z] [INFO] GET /api/test-tokens - 200 - 7ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:10:52.916Z"}
[2025-07-22T19:10:52.923Z] [INFO] GET /js/drag-utils.js - 200 - 6ms | {"method":"GET","url":"/js/drag-utils.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:10:52.923Z"}
[2025-07-22T19:10:52.928Z] [INFO] GET /js/admin-list.js?v=3 - 200 - 10ms | {"method":"GET","url":"/js/admin-list.js?v=3","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:10:52.928Z"}
[2025-07-22T19:10:52.957Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:52.957Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:10:52.965Z] [INFO] GET /lesson/1 - 200 - 8ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:10:52.965Z"}
[2025-07-22T19:10:52.984Z] [INFO] GET /js/encryption.js - 200 - 4ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:10:52.984Z"}
[2025-07-22T19:10:52.987Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 6ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:10:52.987Z"}
[2025-07-22T19:10:53.224Z] [INFO] Test session created for admin
[2025-07-22T19:10:53.224Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.231Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.234Z] [INFO] Test session created for admin
[2025-07-22T19:10:53.234Z] [INFO] Test authentication applied | {"path":"/api/admin/dashboard-stats","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.235Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/admin/dashboard-stats',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.241Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 19ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"19ms","timestamp":"2025-07-22T19:10:53.241Z"}
[2025-07-22T19:10:53.243Z] [INFO] GET /api/admin/dashboard-stats - 500 - 20ms | {"method":"GET","url":"/api/admin/dashboard-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"20ms","timestamp":"2025-07-22T19:10:53.243Z"}
[2025-07-22T19:10:53.245Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.245Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.246Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.248Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.248Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.249Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.252Z] [INFO] GET /api/auth/student/check - 500 - 13ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"13ms","timestamp":"2025-07-22T19:10:53.252Z"}
[2025-07-22T19:10:53.253Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 14ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:10:53.253Z"}
[2025-07-22T19:10:53.255Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.255Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.256Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.260Z] [INFO] GET /api/auth/student/check - 500 - 6ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:10:53.260Z"}
[2025-07-22T19:10:53.261Z] [INFO] Test session created for admin
[2025-07-22T19:10:53.261Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.262Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.263Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 4ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:10:53.263Z"}
[2025-07-22T19:10:53.295Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.296Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.297Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.308Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 14ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:10:53.308Z"}
[2025-07-22T19:10:53.329Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.331Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.332Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.345Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 17ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"17ms","timestamp":"2025-07-22T19:10:53.345Z"}
[2025-07-22T19:10:53.351Z] [INFO] Test session created for admin
[2025-07-22T19:10:53.351Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.352Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=10&sort=newest&includeStats=true',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.359Z] [INFO] GET /api/lessons?page=1&limit=10&sort=newest&includeStats=true - 500 - 8ms | {"method":"GET","url":"/api/lessons?page=1&limit=10&sort=newest&includeStats=true","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:10:53.359Z"}
[2025-07-22T19:10:53.405Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.405Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:10:53.406Z] [INFO] GET /api/csrf-token - 200 - 2ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:10:53.406Z"}
[2025-07-22T19:10:53.818Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.818Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.819Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.825Z] [INFO] GET /api/auth/student/check - 500 - 11ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:10:53.825Z"}
[2025-07-22T19:10:53.934Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.950Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.952Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.977Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:53.978Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:53.978Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:53.989Z] [INFO] POST /api/encryption/init - 400 - 123ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":400,"responseTime":"123ms","timestamp":"2025-07-22T19:10:53.989Z"}
[2025-07-22T19:10:53.992Z] [INFO] GET /api/lessons/1 - 500 - 19ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"19ms","timestamp":"2025-07-22T19:10:53.992Z"}
[2025-07-22T19:10:54.432Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:54.432Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:10:54.438Z] [INFO] GET /lessons - 200 - 8ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:10:54.438Z"}
[2025-07-22T19:10:54.475Z] [INFO] GET /js/nav-mobile.js - 200 - 9ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:10:54.475Z"}
[2025-07-22T19:10:54.482Z] [INFO] GET /js/lessons.js?v=4 - 200 - 14ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:10:54.482Z"}
[2025-07-22T19:10:54.482Z] [INFO] GET /css/style.css - 200 - 17ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:10:54.482Z"}
[2025-07-22T19:10:54.703Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:54.705Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:54.706Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:54.709Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:54.710Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:54.711Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:54.716Z] [INFO] GET /api/auth/student/check - 500 - 16ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"16ms","timestamp":"2025-07-22T19:10:54.716Z"}
[2025-07-22T19:10:54.718Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 15ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"15ms","timestamp":"2025-07-22T19:10:54.718Z"}
[2025-07-22T19:10:54.727Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:54.727Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:54.728Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:54.729Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:54.729Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:54.732Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:54.735Z] [INFO] GET /api/auth/student/check - 500 - 12ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:10:54.735Z"}
[2025-07-22T19:10:54.737Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 13ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"13ms","timestamp":"2025-07-22T19:10:54.737Z"}
[2025-07-22T19:10:54.782Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:54.782Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:54.784Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:54.786Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 4ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:10:54.786Z"}
[2025-07-22T19:10:55.722Z] [INFO] Generated test token | {"userType":"admin","tokenId":"c8b83d6af46657ec42e70d63f77aef7b"}
[2025-07-22T19:10:55.724Z] [INFO] Generated test token | {"userType":"student","tokenId":"04315bc0c2c81214a4332a46202ac3ba"}
[2025-07-22T19:10:55.726Z] [INFO] GET /api/test-tokens - 200 - 5ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:10:55.726Z"}
[2025-07-22T19:10:55.953Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:55.956Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:10:55.969Z] [INFO] GET /lessons - 200 - 16ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:10:55.969Z"}
[2025-07-22T19:10:56.007Z] [INFO] GET /js/nav-mobile.js - 200 - 10ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:10:56.007Z"}
[2025-07-22T19:10:56.008Z] [INFO] GET /js/lessons.js?v=4 - 200 - 11ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:10:56.008Z"}
[2025-07-22T19:10:56.014Z] [INFO] GET /css/style.css - 200 - 19ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:10:56.014Z"}
[2025-07-22T19:10:56.422Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:56.423Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:56.425Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:56.427Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:56.427Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:56.428Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:56.434Z] [INFO] GET /api/auth/student/check - 500 - 12ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:10:56.434Z"}
[2025-07-22T19:10:56.436Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 14ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:10:56.436Z"}
[2025-07-22T19:10:56.453Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:56.453Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:56.456Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:56.458Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:56.458Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:56.459Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:56.472Z] [INFO] GET /api/auth/student/check - 500 - 23ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"23ms","timestamp":"2025-07-22T19:10:56.472Z"}
[2025-07-22T19:10:56.473Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 21ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"21ms","timestamp":"2025-07-22T19:10:56.473Z"}
[2025-07-22T19:10:56.474Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:56.474Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:56.475Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:56.479Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 11ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:10:56.479Z"}
[2025-07-22T19:10:56.585Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:56.586Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:10:56.595Z] [INFO] GET /lesson/1 - 200 - 12ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:10:56.595Z"}
[2025-07-22T19:10:56.638Z] [INFO] GET /js/encryption.js - 200 - 7ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:10:56.638Z"}
[2025-07-22T19:10:56.643Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 12ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:10:56.643Z"}
[2025-07-22T19:10:57.027Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:57.027Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:10:57.030Z] [INFO] GET /api/csrf-token - 200 - 2ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:10:57.029Z"}
[2025-07-22T19:10:57.039Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:57.039Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:57.040Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:57.042Z] [INFO] POST /api/encryption/init - 400 - 4ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":400,"responseTime":"4ms","timestamp":"2025-07-22T19:10:57.042Z"}
[2025-07-22T19:10:57.143Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:57.143Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:57.144Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:57.148Z] [INFO] GET /api/auth/student/check - 500 - 9ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:10:57.148Z"}
[2025-07-22T19:10:57.165Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:57.166Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:10:57.167Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:10:57.169Z] [INFO] GET /api/lessons/1 - 500 - 4ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:10:57.169Z"}
[2025-07-22T19:10:57.256Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:10:57.256Z] [INFO] Test authentication applied | {"path":"/progress","userType":"student","testMode":true}
[2025-07-22T19:10:57.257Z] [WARN] 404 Not Found | {"url":"/progress","method":"GET","ip":"::1"}
[2025-07-22T19:10:57.263Z] [INFO] GET / - 404 - 7ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"7ms","timestamp":"2025-07-22T19:10:57.263Z"}
[2025-07-22T19:11:00.517Z] [INFO] Generated test token | {"userType":"admin","tokenId":"92381674beaf4ac88dfb7b7c4ca8e0e6"}
[2025-07-22T19:11:00.519Z] [INFO] Generated test token | {"userType":"student","tokenId":"f46ff36a426ad804cf646a9eaec059c9"}
[2025-07-22T19:11:00.520Z] [INFO] GET /api/test-tokens - 200 - 4ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:00.520Z"}
[2025-07-22T19:11:00.650Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:00.651Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:00.660Z] [INFO] GET /lessons - 200 - 10ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:11:00.660Z"}
[2025-07-22T19:11:01.070Z] [INFO] GET /css/style.css - 200 - 12ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:11:01.070Z"}
[2025-07-22T19:11:01.072Z] [INFO] GET /js/nav-mobile.js - 200 - 11ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:11:01.072Z"}
[2025-07-22T19:11:01.076Z] [INFO] GET /js/lessons.js?v=4 - 200 - 12ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:11:01.076Z"}
[2025-07-22T19:11:01.443Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:01.443Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:01.444Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:01.449Z] [INFO] GET /api/auth/student/check - 500 - 7ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:11:01.449Z"}
[2025-07-22T19:11:01.449Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:01.449Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:01.450Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:01.452Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:01.452Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:01.453Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:01.468Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 21ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"21ms","timestamp":"2025-07-22T19:11:01.468Z"}
[2025-07-22T19:11:01.475Z] [INFO] GET /api/auth/student/check - 500 - 27ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"27ms","timestamp":"2025-07-22T19:11:01.475Z"}
[2025-07-22T19:11:01.556Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:01.557Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:01.557Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:01.565Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:01.566Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:01.571Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:01.573Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 24ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"24ms","timestamp":"2025-07-22T19:11:01.573Z"}
[2025-07-22T19:11:01.580Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 21ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"21ms","timestamp":"2025-07-22T19:11:01.580Z"}
[2025-07-22T19:11:02.060Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:02.060Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:11:02.060Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:11:02.067Z] [INFO] GET / - 404 - 8ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"8ms","timestamp":"2025-07-22T19:11:02.067Z"}
[2025-07-22T19:11:04.084Z] [INFO] Generated test token | {"userType":"admin","tokenId":"dc08ba739a6f052a234aff8260c3fbd5"}
[2025-07-22T19:11:04.086Z] [INFO] Generated test token | {"userType":"student","tokenId":"e48ab5c5565f2e8dff451b095eb11b30"}
[2025-07-22T19:11:04.087Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:04.087Z"}
[2025-07-22T19:11:04.362Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:04.362Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:04.369Z] [INFO] GET /lesson/1 - 200 - 8ms | {"method":"GET","url":"/lesson/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:11:04.369Z"}
[2025-07-22T19:11:04.576Z] [INFO] GET /js/encryption.js - 200 - 7ms | {"method":"GET","url":"/js/encryption.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:11:04.576Z"}
[2025-07-22T19:11:04.588Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 16ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:11:04.588Z"}
[2025-07-22T19:11:05.123Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:05.124Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:11:05.128Z] [INFO] GET /api/csrf-token - 200 - 12ms | {"method":"GET","url":"/api/csrf-token","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:11:05.128Z"}
[2025-07-22T19:11:05.231Z] [INFO] Generated test token | {"userType":"admin","tokenId":"27c30e3eedaa157ae559bfb57d8fc497"}
[2025-07-22T19:11:05.232Z] [INFO] Generated test token | {"userType":"student","tokenId":"1c222cb32bbb3d2131d43c4cc4b6cd6c"}
[2025-07-22T19:11:05.234Z] [INFO] GET /api/test-tokens - 200 - 4ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:05.234Z"}
[2025-07-22T19:11:05.339Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:05.339Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:05.340Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:05.343Z] [INFO] GET /api/auth/student/check - 500 - 5ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:11:05.343Z"}
[2025-07-22T19:11:05.349Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:05.349Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'user-agent',
    'accept',
    'accept-language',
    'accept-encoding',
    'referer',
    'content-type',
    'x-accept-encryption',
    'x-csrf-token',
    'origin',
    'connection',
    'x-playwright-test-token',
    'x-playwright-test-user-agent',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'priority',
    'content-length'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:05.354Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:05.357Z] [INFO] POST /api/encryption/init - 400 - 13ms | {"method":"POST","url":"/api/encryption/init","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":400,"responseTime":"13ms","timestamp":"2025-07-22T19:11:05.357Z"}
[2025-07-22T19:11:05.379Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:05.380Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:05.380Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:05.392Z] [INFO] GET /api/lessons/1 - 500 - 13ms | {"method":"GET","url":"/api/lessons/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"13ms","timestamp":"2025-07-22T19:11:05.392Z"}
[2025-07-22T19:11:05.427Z] [INFO] Test session created for admin
[2025-07-22T19:11:05.427Z] [INFO] Test authentication applied | {"path":"/admin","userType":"admin","testMode":true}
[2025-07-22T19:11:05.430Z] [INFO] GET /admin - 200 - 3ms | {"method":"GET","url":"/admin","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:05.430Z"}
[2025-07-22T19:11:05.726Z] [INFO] GET /css/admin-enhanced.css - 200 - 15ms | {"method":"GET","url":"/css/admin-enhanced.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:11:05.726Z"}
[2025-07-22T19:11:05.748Z] [INFO] GET /js/network-animation.js - 200 - 20ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:11:05.748Z"}
[2025-07-22T19:11:05.756Z] [INFO] GET /css/style.css - 200 - 37ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"37ms","timestamp":"2025-07-22T19:11:05.756Z"}
[2025-07-22T19:11:05.759Z] [INFO] GET /js/drag-utils.js - 200 - 28ms | {"method":"GET","url":"/js/drag-utils.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:11:05.759Z"}
[2025-07-22T19:11:05.769Z] [INFO] GET /js/admin-list.js?v=3 - 200 - 40ms | {"method":"GET","url":"/js/admin-list.js?v=3","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"40ms","timestamp":"2025-07-22T19:11:05.769Z"}
[2025-07-22T19:11:05.775Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:05.779Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:11:05.779Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:11:05.784Z] [INFO] GET / - 404 - 19ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"19ms","timestamp":"2025-07-22T19:11:05.784Z"}
[2025-07-22T19:11:06.196Z] [INFO] Test session created for admin
[2025-07-22T19:11:06.197Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:06.198Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:06.200Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 4ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:11:06.200Z"}
[2025-07-22T19:11:06.202Z] [INFO] Test session created for admin
[2025-07-22T19:11:06.204Z] [INFO] Test authentication applied | {"path":"/api/admin/dashboard-stats","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:06.205Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/admin/dashboard-stats',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:06.207Z] [INFO] GET /api/admin/dashboard-stats - 500 - 8ms | {"method":"GET","url":"/api/admin/dashboard-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:11:06.207Z"}
[2025-07-22T19:11:06.265Z] [INFO] Test session created for admin
[2025-07-22T19:11:06.267Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:06.270Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:06.276Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 11ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:11:06.276Z"}
[2025-07-22T19:11:06.396Z] [INFO] Test session created for admin
[2025-07-22T19:11:06.396Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:06.397Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=10&sort=newest&includeStats=true',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:06.401Z] [INFO] GET /api/lessons?page=1&limit=10&sort=newest&includeStats=true - 500 - 5ms | {"method":"GET","url":"/api/lessons?page=1&limit=10&sort=newest&includeStats=true","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:11:06.401Z"}
[2025-07-22T19:11:06.631Z] [INFO] Test session created for admin
[2025-07-22T19:11:06.631Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"admin","testMode":true}
[2025-07-22T19:11:06.632Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:11:06.637Z] [INFO] Generated test token | {"userType":"admin","tokenId":"a7f9d4f3775e3bdc75ae3d51765480d2"}
[2025-07-22T19:11:06.637Z] [INFO] Generated test token | {"userType":"student","tokenId":"970ca546d674544dc26a43f14711104a"}
[2025-07-22T19:11:06.642Z] [INFO] GET /api/test-tokens - 200 - 15ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:11:06.642Z"}
[2025-07-22T19:11:06.662Z] [INFO] GET / - 404 - 36ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"36ms","timestamp":"2025-07-22T19:11:06.662Z"}
[2025-07-22T19:11:06.808Z] [INFO] GET /stats - 401 - 1ms | {"method":"GET","url":"/stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":401,"responseTime":"1ms","timestamp":"2025-07-22T19:11:06.808Z"}
[2025-07-22T19:11:10.925Z] [INFO] Generated test token | {"userType":"admin","tokenId":"5a54276757d054802d6835ba7071d55e"}
[2025-07-22T19:11:10.925Z] [INFO] Generated test token | {"userType":"student","tokenId":"95ab589053d6fc4c543034349d876612"}
[2025-07-22T19:11:10.926Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:10.926Z"}
[2025-07-22T19:11:12.163Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.163Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:12.167Z] [INFO] GET /lessons - 200 - 4ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:12.167Z"}
[2025-07-22T19:11:12.486Z] [INFO] GET /js/nav-mobile.js - 200 - 3ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:12.486Z"}
[2025-07-22T19:11:12.488Z] [INFO] GET /js/lessons.js?v=4 - 200 - 5ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:11:12.488Z"}
[2025-07-22T19:11:12.489Z] [INFO] GET /css/style.css - 200 - 9ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:11:12.489Z"}
[2025-07-22T19:11:12.744Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.744Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:11:12.744Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:11:12.748Z] [INFO] GET / - 404 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"4ms","timestamp":"2025-07-22T19:11:12.748Z"}
[2025-07-22T19:11:12.756Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.756Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:12.756Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:12.757Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.758Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:12.759Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:12.760Z] [INFO] GET /api/auth/student/check - 500 - 5ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:11:12.760Z"}
[2025-07-22T19:11:12.761Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.761Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:12.761Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:12.762Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 7ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:11:12.762Z"}
[2025-07-22T19:11:12.763Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:11:12.763Z"}
[2025-07-22T19:11:12.929Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.929Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:12.930Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:12.936Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 10ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:11:12.936Z"}
[2025-07-22T19:11:12.939Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:12.939Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:12.940Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:12.942Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 8ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:11:12.942Z"}
[2025-07-22T19:11:13.260Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:13.260Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:13.265Z] [INFO] GET /lesson/1 - 200 - 5ms | {"method":"GET","url":"/lesson/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:11:13.265Z"}
[2025-07-22T19:11:13.348Z] [INFO] GET /js/encryption.js - 200 - 6ms | {"method":"GET","url":"/js/encryption.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:11:13.347Z"}
[2025-07-22T19:11:13.353Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 11ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:11:13.353Z"}
[2025-07-22T19:11:13.768Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:13.768Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:11:13.769Z] [INFO] GET /api/csrf-token - 200 - 2ms | {"method":"GET","url":"/api/csrf-token","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:11:13.769Z"}
[2025-07-22T19:11:13.835Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:13.836Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:13.836Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:13.838Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:11:13.838Z"}
[2025-07-22T19:11:13.863Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:13.863Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:13.863Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:13.864Z] [INFO] GET /api/lessons/1 - 500 - 2ms | {"method":"GET","url":"/api/lessons/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"2ms","timestamp":"2025-07-22T19:11:13.864Z"}
[2025-07-22T19:11:13.866Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:13.866Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'user-agent',
    'accept',
    'accept-language',
    'accept-encoding',
    'referer',
    'content-type',
    'x-accept-encryption',
    'x-csrf-token',
    'origin',
    'connection',
    'x-playwright-test-token',
    'x-playwright-test-user-agent',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'priority',
    'content-length'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:13.868Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:13.869Z] [INFO] POST /api/encryption/init - 400 - 3ms | {"method":"POST","url":"/api/encryption/init","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":400,"responseTime":"3ms","timestamp":"2025-07-22T19:11:13.869Z"}
[2025-07-22T19:11:13.929Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:13.929Z] [INFO] Test authentication applied | {"path":"/progress","userType":"student","testMode":true}
[2025-07-22T19:11:13.930Z] [WARN] 404 Not Found | {"url":"/progress","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:11:13.932Z] [INFO] GET / - 404 - 3ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"3ms","timestamp":"2025-07-22T19:11:13.932Z"}
[2025-07-22T19:11:15.407Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.407Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:15.410Z] [INFO] GET /lessons - 200 - 4ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:15.410Z"}
[2025-07-22T19:11:15.471Z] [INFO] GET /js/nav-mobile.js - 200 - 7ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:11:15.471Z"}
[2025-07-22T19:11:15.472Z] [INFO] GET /js/lessons.js?v=4 - 200 - 7ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:11:15.472Z"}
[2025-07-22T19:11:15.476Z] [INFO] GET /css/style.css - 200 - 15ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:11:15.476Z"}
[2025-07-22T19:11:15.680Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.680Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:15.680Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:15.683Z] [INFO] GET /api/auth/student/check - 500 - 4ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:11:15.683Z"}
[2025-07-22T19:11:15.692Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.692Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:15.693Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:15.694Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 3ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:11:15.694Z"}
[2025-07-22T19:11:15.711Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.711Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:15.711Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:15.713Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:11:15.713Z"}
[2025-07-22T19:11:15.762Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.762Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:15.763Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:15.764Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 2ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"2ms","timestamp":"2025-07-22T19:11:15.764Z"}
[2025-07-22T19:11:15.852Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.853Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:11:15.854Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:11:15.861Z] [INFO] GET / - 404 - 10ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"10ms","timestamp":"2025-07-22T19:11:15.861Z"}
[2025-07-22T19:11:15.893Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:15.894Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:15.895Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:11:15.903Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 11ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:11:15.903Z"}
[2025-07-22T19:11:34.852Z] [INFO] Generated test token | {"userType":"admin","tokenId":"04d19c5bc6ca81a29820e2d1150799e5"}
[2025-07-22T19:11:34.852Z] [INFO] Generated test token | {"userType":"student","tokenId":"d8deb23a8a4a87cb499c57ed7f8ea20a"}
[2025-07-22T19:11:34.853Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:11:34.853Z"}
[2025-07-22T19:11:34.878Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:34.879Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:34.882Z] [INFO] GET /lessons - 200 - 4ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:34.882Z"}
[2025-07-22T19:11:34.908Z] [INFO] GET /js/nav-mobile.js - 200 - 3ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:34.908Z"}
[2025-07-22T19:11:34.910Z] [INFO] GET /js/lessons.js?v=4 - 200 - 4ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:34.910Z"}
[2025-07-22T19:11:34.913Z] [INFO] GET /css/style.css - 200 - 8ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:11:34.913Z"}
[2025-07-22T19:11:35.184Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:35.185Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:35.185Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:35.187Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:35.187Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:35.187Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:35.189Z] [INFO] GET /api/auth/student/check - 500 - 7ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:11:35.189Z"}
[2025-07-22T19:11:35.190Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 6ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:11:35.190Z"}
[2025-07-22T19:11:35.194Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:35.194Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:35.194Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:35.196Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:11:35.196Z"}
[2025-07-22T19:11:35.235Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:35.235Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:35.236Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:35.242Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 9ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:11:35.242Z"}
[2025-07-22T19:11:35.243Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:35.244Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:35.244Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:35.251Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 8ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:11:35.251Z"}
[2025-07-22T19:11:36.509Z] [INFO] Generated test token | {"userType":"admin","tokenId":"9509870c570a19172eaa16cc05aeb4f3"}
[2025-07-22T19:11:36.509Z] [INFO] Generated test token | {"userType":"student","tokenId":"451f7c766e80a632dda9fd149f369c22"}
[2025-07-22T19:11:36.510Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:11:36.510Z"}
[2025-07-22T19:11:36.540Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:36.540Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:36.544Z] [INFO] GET /lesson/1 - 200 - 5ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:11:36.544Z"}
[2025-07-22T19:11:36.573Z] [INFO] GET /js/encryption.js - 200 - 9ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:11:36.573Z"}
[2025-07-22T19:11:36.579Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 11ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:11:36.579Z"}
[2025-07-22T19:11:36.970Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:36.970Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:11:36.971Z] [INFO] GET /api/csrf-token - 200 - 2ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:11:36.971Z"}
[2025-07-22T19:11:37.162Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:37.163Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:37.163Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:37.171Z] [INFO] GET /api/auth/student/check - 500 - 9ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:11:37.171Z"}
[2025-07-22T19:11:37.230Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:37.230Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:37.231Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:37.233Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:37.233Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:37.238Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:37.239Z] [INFO] POST /api/encryption/init - 400 - 9ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":400,"responseTime":"9ms","timestamp":"2025-07-22T19:11:37.239Z"}
[2025-07-22T19:11:37.241Z] [INFO] GET /api/lessons/1 - 500 - 9ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:11:37.241Z"}
[2025-07-22T19:11:37.807Z] [INFO] Test session created for admin
[2025-07-22T19:11:37.808Z] [INFO] Test authentication applied | {"path":"/admin","userType":"admin","testMode":true}
[2025-07-22T19:11:37.816Z] [INFO] GET /admin - 200 - 10ms | {"method":"GET","url":"/admin","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:11:37.816Z"}
[2025-07-22T19:11:37.862Z] [INFO] GET /css/admin-enhanced.css - 200 - 22ms | {"method":"GET","url":"/css/admin-enhanced.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"22ms","timestamp":"2025-07-22T19:11:37.862Z"}
[2025-07-22T19:11:37.896Z] [INFO] GET /js/network-animation.js - 200 - 45ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"45ms","timestamp":"2025-07-22T19:11:37.896Z"}
[2025-07-22T19:11:37.897Z] [INFO] GET /js/admin-list.js?v=3 - 200 - 46ms | {"method":"GET","url":"/js/admin-list.js?v=3","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"46ms","timestamp":"2025-07-22T19:11:37.897Z"}
[2025-07-22T19:11:37.898Z] [INFO] GET /js/drag-utils.js - 200 - 45ms | {"method":"GET","url":"/js/drag-utils.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"45ms","timestamp":"2025-07-22T19:11:37.898Z"}
[2025-07-22T19:11:37.898Z] [INFO] GET /css/style.css - 200 - 58ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"58ms","timestamp":"2025-07-22T19:11:37.898Z"}
[2025-07-22T19:11:38.210Z] [INFO] Test session created for admin
[2025-07-22T19:11:38.210Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:38.211Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:38.214Z] [INFO] Test session created for admin
[2025-07-22T19:11:38.214Z] [INFO] Test authentication applied | {"path":"/api/admin/dashboard-stats","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:38.215Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/admin/dashboard-stats',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:38.217Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 8ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:11:38.217Z"}
[2025-07-22T19:11:38.219Z] [INFO] GET /api/admin/dashboard-stats - 500 - 7ms | {"method":"GET","url":"/api/admin/dashboard-stats","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:11:38.219Z"}
[2025-07-22T19:11:38.258Z] [INFO] Test session created for admin
[2025-07-22T19:11:38.258Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:38.259Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:38.262Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 7ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:11:38.262Z"}
[2025-07-22T19:11:38.280Z] [INFO] Test session created for admin
[2025-07-22T19:11:38.281Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:38.283Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=10&sort=newest&includeStats=true',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:38.285Z] [INFO] GET /api/lessons?page=1&limit=10&sort=newest&includeStats=true - 500 - 8ms | {"method":"GET","url":"/api/lessons?page=1&limit=10&sort=newest&includeStats=true","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:11:38.285Z"}
[2025-07-22T19:11:40.118Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:40.118Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:40.126Z] [INFO] GET /lessons - 200 - 10ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:11:40.126Z"}
[2025-07-22T19:11:40.173Z] [INFO] GET /js/nav-mobile.js - 200 - 16ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:11:40.173Z"}
[2025-07-22T19:11:40.174Z] [INFO] GET /css/style.css - 200 - 26ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:11:40.174Z"}
[2025-07-22T19:11:40.183Z] [INFO] GET /js/lessons.js?v=4 - 200 - 21ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:11:40.183Z"}
[2025-07-22T19:11:40.367Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:40.367Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:40.368Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:40.370Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:40.370Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:40.370Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:40.374Z] [INFO] GET /api/auth/student/check - 500 - 9ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:11:40.374Z"}
[2025-07-22T19:11:40.377Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 11ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:11:40.377Z"}
[2025-07-22T19:11:40.385Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:40.385Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:40.386Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:40.388Z] [INFO] GET /api/auth/student/check - 500 - 6ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:11:40.388Z"}
[2025-07-22T19:11:40.427Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:40.427Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:40.428Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:40.430Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:40.430Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:40.431Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:40.436Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 10ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:11:40.436Z"}
[2025-07-22T19:11:40.438Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 12ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:11:40.438Z"}
[2025-07-22T19:11:41.130Z] [INFO] Generated test token | {"userType":"admin","tokenId":"f2c345cc38dd09014c0f645703d83b6a"}
[2025-07-22T19:11:41.131Z] [INFO] Generated test token | {"userType":"student","tokenId":"449895e89d3ee191228b5c684436cc6a"}
[2025-07-22T19:11:41.132Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:41.132Z"}
[2025-07-22T19:11:41.160Z] [INFO] GET /stats - 401 - 1ms | {"method":"GET","url":"/stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":401,"responseTime":"1ms","timestamp":"2025-07-22T19:11:41.160Z"}
[2025-07-22T19:11:41.729Z] [INFO] Generated test token | {"userType":"admin","tokenId":"99dc669256b9c368453ad79df279f0eb"}
[2025-07-22T19:11:41.730Z] [INFO] Generated test token | {"userType":"student","tokenId":"fb81d0da5026dfcc547b876555251590"}
[2025-07-22T19:11:41.731Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:11:41.731Z"}
[2025-07-22T19:11:41.908Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:41.909Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:41.913Z] [INFO] GET /lessons - 200 - 5ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:11:41.913Z"}
[2025-07-22T19:11:41.933Z] [INFO] GET /js/nav-mobile.js - 200 - 4ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:41.933Z"}
[2025-07-22T19:11:41.939Z] [INFO] GET /js/lessons.js?v=4 - 200 - 10ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:11:41.939Z"}
[2025-07-22T19:11:41.946Z] [INFO] GET /css/style.css - 200 - 18ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:11:41.946Z"}
[2025-07-22T19:11:42.382Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.384Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:42.385Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:42.387Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.387Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:42.388Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:42.389Z] [INFO] GET /api/auth/student/check - 500 - 7ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:11:42.389Z"}
[2025-07-22T19:11:42.390Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 4ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:11:42.390Z"}
[2025-07-22T19:11:42.394Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.395Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:42.395Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:42.397Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:11:42.397Z"}
[2025-07-22T19:11:42.418Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.419Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:42.420Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:42.422Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 4ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:11:42.422Z"}
[2025-07-22T19:11:42.424Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.424Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:42.425Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:42.429Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 8ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:11:42.429Z"}
[2025-07-22T19:11:42.467Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.468Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:11:42.479Z] [INFO] GET /lesson/1 - 200 - 13ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:11:42.479Z"}
[2025-07-22T19:11:42.504Z] [INFO] GET /js/encryption.js - 200 - 5ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:11:42.503Z"}
[2025-07-22T19:11:42.508Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 9ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:11:42.508Z"}
[2025-07-22T19:11:42.862Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.863Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:11:42.866Z] [INFO] GET /api/csrf-token - 200 - 4ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:11:42.866Z"}
[2025-07-22T19:11:42.993Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:42.997Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:42.997Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:43.002Z] [INFO] GET /api/auth/student/check - 500 - 9ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:11:43.002Z"}
[2025-07-22T19:11:43.005Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:43.005Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:43.006Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:43.019Z] [INFO] POST /api/encryption/init - 400 - 14ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":400,"responseTime":"14ms","timestamp":"2025-07-22T19:11:43.019Z"}
[2025-07-22T19:11:43.019Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:11:43.019Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:11:43.020Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:11:43.027Z] [INFO] GET /api/lessons/1 - 500 - 17ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"17ms","timestamp":"2025-07-22T19:11:43.027Z"}
[2025-07-22T19:11:58.896Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::1","userAgent":"curl/8.5.0","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:11:58.896Z"}
[2025-07-22T19:12:07.619Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:12:07.619Z"}
[2025-07-22T19:12:07.623Z] [INFO] GET / - 200 - 0ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"0ms","timestamp":"2025-07-22T19:12:07.623Z"}
[2025-07-22T19:12:09.137Z] [INFO] Generated test token | {"userType":"admin","tokenId":"b8ce43f6baac5687e883beff523eecaf"}
[2025-07-22T19:12:09.137Z] [INFO] Generated test token | {"userType":"student","tokenId":"c2b46b1f823e96b24589fc75e0e8416a"}
[2025-07-22T19:12:09.137Z] [INFO] GET /api/test-tokens - 200 - 1ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:12:09.137Z"}
[2025-07-22T19:12:09.164Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.164Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:12:09.166Z] [INFO] GET /lessons - 200 - 3ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:09.166Z"}
[2025-07-22T19:12:09.180Z] [INFO] GET /js/nav-mobile.js - 200 - 3ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:09.180Z"}
[2025-07-22T19:12:09.183Z] [INFO] GET /js/lessons.js?v=4 - 200 - 6ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:12:09.183Z"}
[2025-07-22T19:12:09.185Z] [INFO] GET /css/style.css - 200 - 8ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:12:09.185Z"}
[2025-07-22T19:12:09.187Z] [INFO] Generated test token | {"userType":"admin","tokenId":"e7741b3917a1b3c0ee141839fdfc5799"}
[2025-07-22T19:12:09.187Z] [INFO] Generated test token | {"userType":"student","tokenId":"2feefc2d32b1a4e3606bb0a708015724"}
[2025-07-22T19:12:09.188Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:12:09.188Z"}
[2025-07-22T19:12:09.204Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.204Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:12:09.206Z] [INFO] GET /lessons - 200 - 2ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:12:09.206Z"}
[2025-07-22T19:12:09.219Z] [INFO] GET /js/nav-mobile.js - 200 - 1ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:12:09.219Z"}
[2025-07-22T19:12:09.221Z] [INFO] GET /js/lessons.js?v=4 - 200 - 3ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:09.221Z"}
[2025-07-22T19:12:09.222Z] [INFO] GET /css/style.css - 200 - 5ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:12:09.222Z"}
[2025-07-22T19:12:09.425Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.426Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.426Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.431Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.431Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.431Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.433Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.433Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.433Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.434Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.434Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.434Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.437Z] [INFO] GET /api/auth/student/check - 500 - 16ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"16ms","timestamp":"2025-07-22T19:12:09.437Z"}
[2025-07-22T19:12:09.438Z] [INFO] GET /api/auth/student/check - 500 - 13ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"13ms","timestamp":"2025-07-22T19:12:09.438Z"}
[2025-07-22T19:12:09.443Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 18ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"18ms","timestamp":"2025-07-22T19:12:09.443Z"}
[2025-07-22T19:12:09.447Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 25ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"25ms","timestamp":"2025-07-22T19:12:09.447Z"}
[2025-07-22T19:12:09.454Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.455Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.456Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.458Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.459Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.459Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.467Z] [INFO] GET /api/auth/student/check - 500 - 15ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"15ms","timestamp":"2025-07-22T19:12:09.467Z"}
[2025-07-22T19:12:09.475Z] [INFO] GET /api/auth/student/check - 500 - 22ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"22ms","timestamp":"2025-07-22T19:12:09.475Z"}
[2025-07-22T19:12:09.477Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.478Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.480Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.481Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.482Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.483Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.485Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.489Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.489Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.490Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:09.490Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:09.491Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:12:09.499Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 26ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"26ms","timestamp":"2025-07-22T19:12:09.499Z"}
[2025-07-22T19:12:09.500Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 26ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"26ms","timestamp":"2025-07-22T19:12:09.500Z"}
[2025-07-22T19:12:09.503Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 18ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"18ms","timestamp":"2025-07-22T19:12:09.503Z"}
[2025-07-22T19:12:09.506Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 22ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"22ms","timestamp":"2025-07-22T19:12:09.506Z"}
[2025-07-22T19:12:11.681Z] [INFO] Generated test token | {"userType":"admin","tokenId":"022c4ea307691a8c130c31404f82c9d4"}
[2025-07-22T19:12:11.682Z] [INFO] Generated test token | {"userType":"student","tokenId":"d5fc333ee113cd437aa1c7e89a48f63a"}
[2025-07-22T19:12:11.683Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:11.683Z"}
[2025-07-22T19:12:11.800Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:11.800Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:12:11.804Z] [INFO] GET /lessons - 200 - 4ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:11.804Z"}
[2025-07-22T19:12:11.936Z] [INFO] GET /js/nav-mobile.js - 200 - 4ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:11.936Z"}
[2025-07-22T19:12:11.940Z] [INFO] GET /js/lessons.js?v=4 - 200 - 8ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:12:11.940Z"}
[2025-07-22T19:12:11.947Z] [INFO] GET /css/style.css - 200 - 17ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:12:11.947Z"}
[2025-07-22T19:12:12.274Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:12.275Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:12.276Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:12:12.277Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:12.278Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:12.279Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:12:12.280Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:12.280Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:12.280Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:12:12.284Z] [INFO] GET /api/auth/student/check - 500 - 12ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:12:12.283Z"}
[2025-07-22T19:12:12.287Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 15ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"15ms","timestamp":"2025-07-22T19:12:12.287Z"}
[2025-07-22T19:12:12.288Z] [INFO] GET /api/auth/student/check - 500 - 15ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"15ms","timestamp":"2025-07-22T19:12:12.288Z"}
[2025-07-22T19:12:12.565Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:12.565Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:12.566Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:12:12.572Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:12.576Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:12:12.578Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:12:12.583Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 22ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"22ms","timestamp":"2025-07-22T19:12:12.583Z"}
[2025-07-22T19:12:12.584Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 22ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"22ms","timestamp":"2025-07-22T19:12:12.584Z"}
[2025-07-22T19:12:12.713Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:12:12.713Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:12:12.713Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:12:12.723Z] [INFO] GET / - 404 - 11ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"11ms","timestamp":"2025-07-22T19:12:12.723Z"}
[2025-07-22T19:12:20.239Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:12:20.239Z"}
[2025-07-22T19:12:20.244Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:12:20.244Z"}
[2025-07-22T19:12:22.322Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:22.322Z"}
[2025-07-22T19:12:22.350Z] [INFO] GET /images/lesson1.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:12:22.350Z"}
[2025-07-22T19:12:22.357Z] [INFO] GET /images/lesson2.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:12:22.357Z"}
[2025-07-22T19:12:22.371Z] [INFO] GET /images/lesson3.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:12:22.370Z"}
[2025-07-22T19:12:22.375Z] [INFO] GET /images/lesson4.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:12:22.375Z"}
[2025-07-22T19:12:22.380Z] [INFO] GET /js/network-animation.js - 200 - 19ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:12:22.380Z"}
[2025-07-22T19:12:22.389Z] [INFO] GET /js/landing.js - 200 - 27ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:12:22.389Z"}
[2025-07-22T19:12:22.390Z] [INFO] GET /css/style.css - 200 - 47ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"47ms","timestamp":"2025-07-22T19:12:22.390Z"}
[2025-07-22T19:12:22.393Z] [INFO] GET /js/nav-mobile.js - 200 - 30ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"30ms","timestamp":"2025-07-22T19:12:22.393Z"}
[2025-07-22T19:12:22.412Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:22.412Z"}
[2025-07-22T19:12:22.429Z] [INFO] GET /images/lesson1.jpg - 200 - 2ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:12:22.429Z"}
[2025-07-22T19:12:22.431Z] [INFO] GET /images/lesson2.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:22.431Z"}
[2025-07-22T19:12:22.433Z] [INFO] GET /css/style.css - 200 - 6ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:12:22.433Z"}
[2025-07-22T19:12:22.441Z] [INFO] GET /images/lesson4.jpg - 200 - 2ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:12:22.441Z"}
[2025-07-22T19:12:22.442Z] [INFO] GET /images/lesson3.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:22.442Z"}
[2025-07-22T19:12:22.445Z] [INFO] GET /js/nav-mobile.js - 200 - 5ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:12:22.445Z"}
[2025-07-22T19:12:22.446Z] [INFO] GET /js/network-animation.js - 200 - 5ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:12:22.446Z"}
[2025-07-22T19:12:22.447Z] [INFO] GET /js/landing.js - 200 - 6ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:12:22.447Z"}
[2025-07-22T19:12:24.113Z] [INFO] GET /platform-stats - 200 - 1311ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1311ms","timestamp":"2025-07-22T19:12:24.113Z"}
[2025-07-22T19:12:24.162Z] [INFO] GET /platform-stats - 200 - 1534ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"1534ms","timestamp":"2025-07-22T19:12:24.162Z"}
[2025-07-22T19:12:25.228Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:25.228Z"}
[2025-07-22T19:12:25.620Z] [INFO] GET /css/style.css - 200 - 27ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:12:25.620Z"}
[2025-07-22T19:12:25.625Z] [INFO] GET /js/nav-mobile.js - 200 - 27ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:12:25.625Z"}
[2025-07-22T19:12:25.630Z] [INFO] GET /js/network-animation.js - 200 - 33ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"33ms","timestamp":"2025-07-22T19:12:25.630Z"}
[2025-07-22T19:12:25.640Z] [INFO] GET /js/landing.js - 200 - 42ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"42ms","timestamp":"2025-07-22T19:12:25.640Z"}
[2025-07-22T19:12:25.756Z] [INFO] GET /images/lesson1.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:25.756Z"}
[2025-07-22T19:12:25.756Z] [INFO] GET /images/lesson4.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:12:25.756Z"}
[2025-07-22T19:12:25.758Z] [INFO] GET /images/lesson2.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:12:25.758Z"}
[2025-07-22T19:12:25.758Z] [INFO] GET /images/lesson3.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:12:25.758Z"}
[2025-07-22T19:12:26.504Z] [INFO] GET /platform-stats - 200 - 519ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"519ms","timestamp":"2025-07-22T19:12:26.504Z"}
[2025-07-22T19:12:26.852Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:12:26.860Z] [INFO] GET / - 404 - 9ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"9ms","timestamp":"2025-07-22T19:12:26.860Z"}
[2025-07-22T19:12:47.720Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:12:47.720Z"}
[2025-07-22T19:12:47.727Z] [INFO] GET / - 200 - 2ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:12:47.727Z"}
[2025-07-22T19:12:51.144Z] [INFO] Generated test token | {"userType":"admin","tokenId":"c67eb262d7c416589038beba6e164795"}
[2025-07-22T19:12:51.145Z] [INFO] Generated test token | {"userType":"student","tokenId":"bb38cd79730f73da7548437712b02a6d"}
[2025-07-22T19:12:51.146Z] [INFO] GET /api/test-tokens - 200 - 5ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:12:51.146Z"}
[2025-07-22T19:14:39.068Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:14:39.068Z"}
[2025-07-22T19:14:39.072Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:14:39.072Z"}
[2025-07-22T19:14:40.372Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:14:40.372Z"}
[2025-07-22T19:14:40.421Z] [INFO] GET /images/lesson1.jpg - 200 - 18ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:14:40.421Z"}
[2025-07-22T19:14:40.424Z] [INFO] GET /images/lesson2.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:40.424Z"}
[2025-07-22T19:14:40.435Z] [INFO] GET / - 200 - 44ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"44ms","timestamp":"2025-07-22T19:14:40.435Z"}
[2025-07-22T19:14:40.446Z] [INFO] GET /images/lesson3.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:40.446Z"}
[2025-07-22T19:14:40.446Z] [INFO] GET /css/style.css - 200 - 43ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:14:40.446Z"}
[2025-07-22T19:14:40.447Z] [INFO] GET /images/lesson4.jpg - 200 - 13ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:14:40.447Z"}
[2025-07-22T19:14:40.453Z] [INFO] GET /js/network-animation.js - 200 - 25ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:14:40.453Z"}
[2025-07-22T19:14:40.454Z] [INFO] GET /js/landing.js - 200 - 26ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:14:40.454Z"}
[2025-07-22T19:14:40.465Z] [INFO] GET /js/nav-mobile.js - 200 - 28ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:14:40.465Z"}
[2025-07-22T19:14:40.480Z] [INFO] GET /images/lesson1.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:14:40.480Z"}
[2025-07-22T19:14:40.482Z] [INFO] GET /images/lesson2.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:40.482Z"}
[2025-07-22T19:14:40.485Z] [INFO] GET /images/lesson3.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:40.485Z"}
[2025-07-22T19:14:40.486Z] [INFO] GET /images/lesson4.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:40.486Z"}
[2025-07-22T19:14:40.489Z] [INFO] GET /js/nav-mobile.js - 200 - 6ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:40.489Z"}
[2025-07-22T19:14:40.490Z] [INFO] GET /js/network-animation.js - 200 - 6ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:40.490Z"}
[2025-07-22T19:14:40.490Z] [INFO] GET /css/style.css - 200 - 35ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"35ms","timestamp":"2025-07-22T19:14:40.490Z"}
[2025-07-22T19:14:40.491Z] [INFO] GET /js/landing.js - 200 - 7ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:40.491Z"}
[2025-07-22T19:14:40.552Z] [INFO] GET / - 200 - 2ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:14:40.552Z"}
[2025-07-22T19:14:40.559Z] [INFO] GET / - 200 - 3ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:14:40.559Z"}
[2025-07-22T19:14:40.579Z] [INFO] GET /images/lesson1.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:40.579Z"}
[2025-07-22T19:14:40.581Z] [INFO] GET /images/lesson2.jpg - 200 - 9ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:40.581Z"}
[2025-07-22T19:14:40.582Z] [INFO] GET /images/lesson4.jpg - 200 - 8ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:40.582Z"}
[2025-07-22T19:14:40.583Z] [INFO] GET /images/lesson3.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:14:40.583Z"}
[2025-07-22T19:14:40.584Z] [INFO] GET /images/lesson1.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:40.584Z"}
[2025-07-22T19:14:40.587Z] [INFO] GET /images/lesson2.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:40.586Z"}
[2025-07-22T19:14:40.590Z] [INFO] GET /js/nav-mobile.js - 200 - 16ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:40.590Z"}
[2025-07-22T19:14:40.591Z] [INFO] GET /css/style.css - 200 - 22ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"22ms","timestamp":"2025-07-22T19:14:40.591Z"}
[2025-07-22T19:14:40.608Z] [INFO] GET /css/style.css - 200 - 31ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:14:40.608Z"}
[2025-07-22T19:14:40.609Z] [INFO] GET /js/network-animation.js - 200 - 24ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:14:40.609Z"}
[2025-07-22T19:14:40.610Z] [INFO] GET /images/lesson4.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:14:40.610Z"}
[2025-07-22T19:14:40.610Z] [INFO] GET /images/lesson3.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:14:40.610Z"}
[2025-07-22T19:14:40.611Z] [INFO] GET /js/landing.js - 200 - 22ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"22ms","timestamp":"2025-07-22T19:14:40.611Z"}
[2025-07-22T19:14:40.612Z] [INFO] GET /js/network-animation.js - 200 - 17ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:14:40.612Z"}
[2025-07-22T19:14:40.613Z] [INFO] GET /js/landing.js - 200 - 18ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:14:40.613Z"}
[2025-07-22T19:14:40.614Z] [INFO] GET /js/nav-mobile.js - 200 - 8ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:40.614Z"}
[2025-07-22T19:14:42.057Z] [INFO] GET /platform-stats - 200 - 1102ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1102ms","timestamp":"2025-07-22T19:14:42.057Z"}
[2025-07-22T19:14:42.183Z] [INFO] GET /platform-stats - 200 - 1285ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1285ms","timestamp":"2025-07-22T19:14:42.183Z"}
[2025-07-22T19:14:42.214Z] [INFO] GET /platform-stats - 200 - 1526ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1526ms","timestamp":"2025-07-22T19:14:42.214Z"}
[2025-07-22T19:14:42.350Z] [INFO] GET /platform-stats - 200 - 1627ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1627ms","timestamp":"2025-07-22T19:14:42.350Z"}
[2025-07-22T19:14:43.022Z] [INFO] GET / - 200 - 5ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:14:43.022Z"}
[2025-07-22T19:14:43.036Z] [INFO] GET / - 200 - 9ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:43.036Z"}
[2025-07-22T19:14:43.055Z] [INFO] GET /images/lesson1.jpg - 200 - 9ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:43.055Z"}
[2025-07-22T19:14:43.056Z] [INFO] GET /images/lesson2.jpg - 200 - 8ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:43.056Z"}
[2025-07-22T19:14:43.087Z] [INFO] GET /images/lesson4.jpg - 200 - 18ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:14:43.087Z"}
[2025-07-22T19:14:43.102Z] [INFO] GET /images/lesson3.jpg - 200 - 34ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"34ms","timestamp":"2025-07-22T19:14:43.102Z"}
[2025-07-22T19:14:43.105Z] [INFO] GET /css/style.css - 200 - 60ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"60ms","timestamp":"2025-07-22T19:14:43.105Z"}
[2025-07-22T19:14:43.107Z] [INFO] GET /images/lesson1.jpg - 200 - 30ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"30ms","timestamp":"2025-07-22T19:14:43.107Z"}
[2025-07-22T19:14:43.111Z] [INFO] GET /js/network-animation.js - 200 - 43ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:14:43.111Z"}
[2025-07-22T19:14:43.112Z] [INFO] GET /js/landing.js - 200 - 43ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:14:43.112Z"}
[2025-07-22T19:14:43.115Z] [INFO] GET /js/nav-mobile.js - 200 - 45ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"45ms","timestamp":"2025-07-22T19:14:43.115Z"}
[2025-07-22T19:14:43.117Z] [INFO] GET /images/lesson2.jpg - 200 - 36ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"36ms","timestamp":"2025-07-22T19:14:43.117Z"}
[2025-07-22T19:14:43.126Z] [INFO] GET /images/lesson4.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:43.126Z"}
[2025-07-22T19:14:43.128Z] [INFO] GET /images/lesson3.jpg - 200 - 28ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:14:43.128Z"}
[2025-07-22T19:14:43.130Z] [INFO] GET /css/style.css - 200 - 63ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"63ms","timestamp":"2025-07-22T19:14:43.130Z"}
[2025-07-22T19:14:43.132Z] [INFO] GET /js/network-animation.js - 200 - 11ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:14:43.132Z"}
[2025-07-22T19:14:43.134Z] [INFO] GET /js/nav-mobile.js - 200 - 11ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:14:43.134Z"}
[2025-07-22T19:14:43.137Z] [INFO] GET /js/landing.js - 200 - 8ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:43.137Z"}
[2025-07-22T19:14:43.205Z] [INFO] GET / - 200 - 7ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:43.205Z"}
[2025-07-22T19:14:43.229Z] [INFO] GET /images/lesson1.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:43.229Z"}
[2025-07-22T19:14:43.234Z] [INFO] GET /images/lesson2.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:43.234Z"}
[2025-07-22T19:14:43.242Z] [INFO] GET /css/style.css - 200 - 20ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:14:43.242Z"}
[2025-07-22T19:14:43.246Z] [INFO] GET /images/lesson4.jpg - 200 - 9ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:43.246Z"}
[2025-07-22T19:14:43.249Z] [INFO] GET /images/lesson3.jpg - 200 - 13ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:14:43.249Z"}
[2025-07-22T19:14:43.251Z] [INFO] GET /js/nav-mobile.js - 200 - 14ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:14:43.251Z"}
[2025-07-22T19:14:43.252Z] [INFO] GET /js/network-animation.js - 200 - 15ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:43.252Z"}
[2025-07-22T19:14:43.254Z] [INFO] GET /js/landing.js - 200 - 15ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:43.254Z"}
[2025-07-22T19:14:43.760Z] [INFO] GET /platform-stats - 200 - 447ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"447ms","timestamp":"2025-07-22T19:14:43.760Z"}
[2025-07-22T19:14:44.033Z] [INFO] GET /platform-stats - 200 - 733ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"733ms","timestamp":"2025-07-22T19:14:44.033Z"}
[2025-07-22T19:14:44.174Z] [INFO] GET /platform-stats - 200 - 551ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"551ms","timestamp":"2025-07-22T19:14:44.174Z"}
[2025-07-22T19:14:45.368Z] [INFO] GET / - 200 - 8ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:45.368Z"}
[2025-07-22T19:14:45.418Z] [INFO] GET /css/style.css - 200 - 16ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:45.418Z"}
[2025-07-22T19:14:45.445Z] [INFO] GET /js/nav-mobile.js - 200 - 4ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:14:45.445Z"}
[2025-07-22T19:14:45.459Z] [INFO] GET /images/lesson1.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:45.459Z"}
[2025-07-22T19:14:45.466Z] [INFO] GET /images/lesson2.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:45.466Z"}
[2025-07-22T19:14:45.469Z] [INFO] GET /images/lesson4.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:45.469Z"}
[2025-07-22T19:14:45.471Z] [INFO] GET /images/lesson3.jpg - 200 - 19ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:14:45.471Z"}
[2025-07-22T19:14:45.476Z] [INFO] GET /js/landing.js - 200 - 18ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:14:45.476Z"}
[2025-07-22T19:14:45.480Z] [INFO] GET /js/network-animation.js - 200 - 22ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"22ms","timestamp":"2025-07-22T19:14:45.480Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: 'UQBvytRUILygO_fS30YtdSYXxTbns65S',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:14:45.898Z] [INFO] GET /lessons - 302 - 12ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"12ms","timestamp":"2025-07-22T19:14:45.898Z"}
[2025-07-22T19:14:45.918Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 14ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:14:45.918Z"}
[2025-07-22T19:14:45.950Z] [INFO] GET /js/device-id.js - 200 - 4ms | {"method":"GET","url":"/js/device-id.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:14:45.949Z"}
[2025-07-22T19:14:45.975Z] [INFO] GET / - 200 - 17ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:14:45.975Z"}
[2025-07-22T19:14:46.025Z] [INFO] GET /images/lesson1.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:14:46.025Z"}
[2025-07-22T19:14:46.026Z] [INFO] GET /images/lesson2.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:14:46.026Z"}
[2025-07-22T19:14:46.047Z] [INFO] GET /css/style.css - 200 - 36ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"36ms","timestamp":"2025-07-22T19:14:46.047Z"}
[2025-07-22T19:14:46.079Z] [INFO] GET /images/lesson4.jpg - 200 - 17ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:14:46.079Z"}
[2025-07-22T19:14:46.087Z] [INFO] GET /images/lesson3.jpg - 200 - 27ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:14:46.087Z"}
[2025-07-22T19:14:46.108Z] [INFO] GET /js/nav-mobile.js - 200 - 36ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"36ms","timestamp":"2025-07-22T19:14:46.108Z"}
[2025-07-22T19:14:46.112Z] [INFO] GET /js/network-animation.js - 200 - 40ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"40ms","timestamp":"2025-07-22T19:14:46.112Z"}
[2025-07-22T19:14:46.115Z] [INFO] GET /js/landing.js - 200 - 43ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:14:46.115Z"}
[2025-07-22T19:14:46.326Z] [INFO] GET /platform-stats - 200 - 564ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"564ms","timestamp":"2025-07-22T19:14:46.326Z"}
[2025-07-22T19:14:47.512Z] [INFO] GET /platform-stats - 200 - 600ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"600ms","timestamp":"2025-07-22T19:14:47.512Z"}
üîê requireStudentAuthForHTML check: {
  url: '/profile',
  sessionId: 'IslrMisrWeMWQ6d60pRVt0zmGpCTCmkR',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:14:47.677Z] [INFO] GET /profile - 302 - 2ms | {"method":"GET","url":"/profile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"2ms","timestamp":"2025-07-22T19:14:47.677Z"}
[2025-07-22T19:14:47.703Z] [INFO] GET /student/login?redirect=%2Fprofile - 200 - 8ms | {"method":"GET","url":"/student/login?redirect=%2Fprofile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:47.703Z"}
[2025-07-22T19:14:47.758Z] [INFO] GET /js/device-id.js - 200 - 9ms | {"method":"GET","url":"/js/device-id.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:47.758Z"}
[2025-07-22T19:14:47.831Z] [INFO] GET / - 200 - 6ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:47.831Z"}
[2025-07-22T19:14:47.867Z] [INFO] GET /images/lesson1.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:14:47.867Z"}
[2025-07-22T19:14:47.873Z] [INFO] GET /images/lesson2.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:14:47.873Z"}
[2025-07-22T19:14:47.917Z] [INFO] GET /images/lesson4.jpg - 200 - 31ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:14:47.917Z"}
[2025-07-22T19:14:47.920Z] [INFO] GET /images/lesson3.jpg - 200 - 38ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"38ms","timestamp":"2025-07-22T19:14:47.920Z"}
[2025-07-22T19:14:47.923Z] [INFO] GET /css/style.css - 200 - 66ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"66ms","timestamp":"2025-07-22T19:14:47.923Z"}
[2025-07-22T19:14:47.925Z] [INFO] GET /js/nav-mobile.js - 200 - 28ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:14:47.925Z"}
[2025-07-22T19:14:47.961Z] [INFO] GET /js/network-animation.js - 200 - 58ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"58ms","timestamp":"2025-07-22T19:14:47.961Z"}
[2025-07-22T19:14:47.963Z] [INFO] GET /js/landing.js - 200 - 59ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"59ms","timestamp":"2025-07-22T19:14:47.963Z"}
[2025-07-22T19:14:48.787Z] [INFO] GET /platform-stats - 200 - 624ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"624ms","timestamp":"2025-07-22T19:14:48.786Z"}
[2025-07-22T19:14:49.102Z] [INFO] GET / - 200 - 8ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:49.102Z"}
[2025-07-22T19:14:49.132Z] [INFO] GET /images/lesson1.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:14:49.132Z"}
[2025-07-22T19:14:49.136Z] [INFO] GET /images/lesson2.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:49.136Z"}
[2025-07-22T19:14:49.146Z] [INFO] GET /css/style.css - 200 - 19ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:14:49.146Z"}
[2025-07-22T19:14:49.149Z] [INFO] GET /images/lesson3.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:14:49.149Z"}
[2025-07-22T19:14:49.154Z] [INFO] GET /images/lesson4.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:14:49.154Z"}
[2025-07-22T19:14:49.158Z] [INFO] GET /js/nav-mobile.js - 200 - 6ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:49.158Z"}
[2025-07-22T19:14:49.159Z] [INFO] GET /js/network-animation.js - 200 - 7ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:49.159Z"}
[2025-07-22T19:14:49.169Z] [INFO] GET /js/landing.js - 200 - 6ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:49.169Z"}
[2025-07-22T19:14:49.668Z] [INFO] GET / - 304 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"4ms","timestamp":"2025-07-22T19:14:49.668Z"}
Cache miss for /
[2025-07-22T19:14:50.537Z] [INFO] GET /platform-stats - 200 - 598ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"598ms","timestamp":"2025-07-22T19:14:50.537Z"}
[2025-07-22T19:14:50.730Z] [INFO] GET / - 200 - 14ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:14:50.730Z"}
[2025-07-22T19:14:50.774Z] [INFO] GET /images/lesson1.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:50.774Z"}
[2025-07-22T19:14:50.780Z] [INFO] GET /images/lesson2.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:14:50.780Z"}
[2025-07-22T19:14:50.799Z] [INFO] GET /images/lesson4.jpg - 200 - 23ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"23ms","timestamp":"2025-07-22T19:14:50.799Z"}
[2025-07-22T19:14:50.803Z] [INFO] GET /images/lesson3.jpg - 200 - 27ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:14:50.803Z"}
[2025-07-22T19:14:50.812Z] [INFO] GET /css/style.css - 200 - 54ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"54ms","timestamp":"2025-07-22T19:14:50.812Z"}
[2025-07-22T19:14:50.817Z] [INFO] GET /js/nav-mobile.js - 200 - 34ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"34ms","timestamp":"2025-07-22T19:14:50.817Z"}
[2025-07-22T19:14:50.820Z] [INFO] GET /js/network-animation.js - 200 - 35ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"35ms","timestamp":"2025-07-22T19:14:50.820Z"}
[2025-07-22T19:14:50.821Z] [INFO] GET /js/landing.js - 200 - 35ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"35ms","timestamp":"2025-07-22T19:14:50.821Z"}
[2025-07-22T19:14:51.252Z] [INFO] GET / - 304 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"4ms","timestamp":"2025-07-22T19:14:51.251Z"}
Cache miss for /
[2025-07-22T19:14:51.793Z] [INFO] GET /platform-stats - 200 - 418ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"418ms","timestamp":"2025-07-22T19:14:51.793Z"}
[2025-07-22T19:14:53.008Z] [INFO] GET / - 200 - 5ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:14:53.008Z"}
[2025-07-22T19:14:53.060Z] [INFO] GET /images/lesson1.jpg - 200 - 13ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:14:53.060Z"}
[2025-07-22T19:14:53.065Z] [INFO] GET /images/lesson2.jpg - 200 - 17ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:14:53.065Z"}
[2025-07-22T19:14:53.071Z] [INFO] GET /css/style.css - 200 - 25ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:14:53.071Z"}
[2025-07-22T19:14:53.097Z] [INFO] GET /images/lesson4.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:14:53.097Z"}
[2025-07-22T19:14:53.101Z] [INFO] GET /images/lesson3.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:14:53.101Z"}
[2025-07-22T19:14:53.106Z] [INFO] GET /js/nav-mobile.js - 200 - 15ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:14:53.106Z"}
[2025-07-22T19:14:53.108Z] [INFO] GET /js/network-animation.js - 200 - 16ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:53.108Z"}
[2025-07-22T19:14:53.111Z] [INFO] GET /js/landing.js - 200 - 16ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:14:53.111Z"}
[2025-07-22T19:14:53.978Z] [INFO] GET /platform-stats - 200 - 485ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"485ms","timestamp":"2025-07-22T19:14:53.978Z"}
[2025-07-22T19:14:55.060Z] [INFO] GET / - 200 - 2ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:14:55.060Z"}
[2025-07-22T19:14:55.085Z] [INFO] GET /images/lesson1.jpg - 200 - 8ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:55.085Z"}
[2025-07-22T19:14:55.090Z] [INFO] GET /images/lesson2.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:14:55.090Z"}
[2025-07-22T19:14:55.093Z] [INFO] GET /css/style.css - 200 - 17ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:14:55.093Z"}
[2025-07-22T19:14:55.094Z] [INFO] GET /images/lesson4.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:14:55.094Z"}
[2025-07-22T19:14:55.096Z] [INFO] GET /images/lesson3.jpg - 200 - 8ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:14:55.096Z"}
[2025-07-22T19:14:55.098Z] [INFO] GET /js/nav-mobile.js - 200 - 9ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:55.098Z"}
[2025-07-22T19:14:55.099Z] [INFO] GET /js/network-animation.js - 200 - 10ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:14:55.099Z"}
[2025-07-22T19:14:55.107Z] [INFO] GET /js/landing.js - 200 - 9ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:14:55.106Z"}
[2025-07-22T19:14:55.660Z] [INFO] GET / - 304 - 2ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"2ms","timestamp":"2025-07-22T19:14:55.660Z"}
[2025-07-22T19:14:55.742Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:14:55.742Z"}
Cache miss for /
[2025-07-22T19:14:55.916Z] [INFO] GET / - 304 - 2ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"2ms","timestamp":"2025-07-22T19:14:55.915Z"}
Cache miss for /
[2025-07-22T19:14:56.027Z] [INFO] GET / - 304 - 14ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"14ms","timestamp":"2025-07-22T19:14:56.027Z"}
Cache miss for /
Cache miss for /
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: '1MlIPT6yOoXRyFD5annbG4FFDSsXX0_e',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:14:56.250Z] [INFO] GET /lessons - 302 - 4ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"4ms","timestamp":"2025-07-22T19:14:56.250Z"}
[2025-07-22T19:14:56.255Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 3ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:14:56.255Z"}
[2025-07-22T19:14:56.266Z] [INFO] GET /js/device-id.js - 200 - 2ms | {"method":"GET","url":"/js/device-id.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:14:56.266Z"}
[2025-07-22T19:14:56.340Z] [INFO] GET / - 304 - 2ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"2ms","timestamp":"2025-07-22T19:14:56.340Z"}
Cache miss for /
üîê requireStudentAuthForHTML check: {
  url: '/leaderboard',
  sessionId: 'SdxyaQ93Mkiu546X3rFjGQpvea3gzgU4',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:14:56.510Z] [INFO] GET /leaderboard - 302 - 1ms | {"method":"GET","url":"/leaderboard","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"1ms","timestamp":"2025-07-22T19:14:56.510Z"}
[2025-07-22T19:14:56.514Z] [INFO] GET /student/login?redirect=%2Fleaderboard - 200 - 3ms | {"method":"GET","url":"/student/login?redirect=%2Fleaderboard","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:14:56.514Z"}
[2025-07-22T19:14:56.563Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:14:56.563Z"}
Cache miss for /
üîê requireStudentAuthForHTML check: {
  url: '/profile',
  sessionId: 'XQYPOnJWTTrRgHmLXhUZ0iigyQsIZt5l',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:14:56.795Z] [INFO] GET /profile - 302 - 1ms | {"method":"GET","url":"/profile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"1ms","timestamp":"2025-07-22T19:14:56.795Z"}
[2025-07-22T19:14:56.808Z] [INFO] GET /student/login?redirect=%2Fprofile - 200 - 10ms | {"method":"GET","url":"/student/login?redirect=%2Fprofile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:14:56.808Z"}
[2025-07-22T19:14:56.871Z] [INFO] GET / - 304 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"4ms","timestamp":"2025-07-22T19:14:56.871Z"}
Cache miss for /
[2025-07-22T19:14:57.327Z] [INFO] GET /platform-stats - 200 - 403ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"403ms","timestamp":"2025-07-22T19:14:57.327Z"}
[2025-07-22T19:15:07.711Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:15:07.711Z"}
[2025-07-22T19:15:07.715Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:15:07.715Z"}
[2025-07-22T19:15:08.768Z] [INFO] Generated test token | {"userType":"admin","tokenId":"af5825ba25f67314ef7a887edc7af10c"}
[2025-07-22T19:15:08.768Z] [INFO] Generated test token | {"userType":"student","tokenId":"1bee5bc9cf2f24fd48e2b690458e68d7"}
[2025-07-22T19:15:08.768Z] [INFO] GET /api/test-tokens - 200 - 1ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:15:08.768Z"}
[2025-07-22T19:15:08.789Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:08.789Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:08.792Z] [INFO] GET /lessons - 200 - 4ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:15:08.792Z"}
[2025-07-22T19:15:08.803Z] [INFO] GET /js/nav-mobile.js - 200 - 3ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:15:08.803Z"}
[2025-07-22T19:15:08.804Z] [INFO] GET /js/lessons.js?v=4 - 200 - 3ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:15:08.804Z"}
[2025-07-22T19:15:08.806Z] [INFO] GET /css/style.css - 200 - 6ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:15:08.806Z"}
[2025-07-22T19:15:09.010Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:09.011Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:09.011Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:09.012Z] [INFO] GET /api/auth/student/check - 500 - 2ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"2ms","timestamp":"2025-07-22T19:15:09.012Z"}
[2025-07-22T19:15:09.013Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:09.013Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:09.014Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:09.015Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:09.015Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:09.016Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:09.017Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 5ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:15:09.017Z"}
[2025-07-22T19:15:09.018Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:15:09.018Z"}
[2025-07-22T19:15:09.018Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:09.018Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:09.019Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:09.020Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 3ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:15:09.020Z"}
[2025-07-22T19:15:09.033Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:09.033Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:09.033Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:09.035Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 3ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:15:09.035Z"}
[2025-07-22T19:15:44.487Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:15:44.487Z"}
[2025-07-22T19:15:44.491Z] [INFO] GET / - 200 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:15:44.491Z"}
[2025-07-22T19:15:46.182Z] [INFO] Generated test token | {"userType":"admin","tokenId":"c82b0efb1be40f952cf4634068b0fc05"}
[2025-07-22T19:15:46.182Z] [INFO] Generated test token | {"userType":"student","tokenId":"07df596105c486365362ee0f9720665c"}
[2025-07-22T19:15:46.183Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:15:46.183Z"}
[2025-07-22T19:15:46.193Z] [INFO] Generated test token | {"userType":"admin","tokenId":"151deee81e0d8175524f71ddf957567d"}
[2025-07-22T19:15:46.193Z] [INFO] Generated test token | {"userType":"student","tokenId":"2c1d64fe3dfed3724dd974f092d6717a"}
[2025-07-22T19:15:46.194Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:15:46.194Z"}
[2025-07-22T19:15:46.194Z] [INFO] Generated test token | {"userType":"admin","tokenId":"cf876c4993ff553bc429f9b385850a9d"}
[2025-07-22T19:15:46.195Z] [INFO] Generated test token | {"userType":"student","tokenId":"800408dbad83e2eca08abdf93eb0a3bc"}
[2025-07-22T19:15:46.196Z] [INFO] GET /api/test-tokens - 200 - 5ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:15:46.196Z"}
[2025-07-22T19:15:46.218Z] [INFO] Generated test token | {"userType":"admin","tokenId":"e8ec360912f8b13858c60660921dd65d"}
[2025-07-22T19:15:46.219Z] [INFO] Generated test token | {"userType":"student","tokenId":"b19b5ddb38a95ac02914eb2a4a92f343"}
[2025-07-22T19:15:46.219Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:15:46.219Z"}
[2025-07-22T19:15:46.221Z] [INFO] Test session created for admin
[2025-07-22T19:15:46.221Z] [INFO] Test authentication applied | {"path":"/admin","userType":"admin","testMode":true}
[2025-07-22T19:15:46.226Z] [INFO] GET /admin - 200 - 8ms | {"method":"GET","url":"/admin","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:15:46.226Z"}
[2025-07-22T19:15:46.228Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.229Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:46.232Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.232Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:46.238Z] [INFO] GET /lessons - 200 - 13ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:15:46.238Z"}
[2025-07-22T19:15:46.252Z] [INFO] GET /css/admin-enhanced.css - 200 - 11ms | {"method":"GET","url":"/css/admin-enhanced.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:15:46.252Z"}
[2025-07-22T19:15:46.255Z] [INFO] GET /lesson/1 - 200 - 25ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:15:46.255Z"}
[2025-07-22T19:15:46.264Z] [INFO] GET /dashboard-stats - 401 - 3ms | {"method":"GET","url":"/dashboard-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":401,"responseTime":"3ms","timestamp":"2025-07-22T19:15:46.264Z"}
[2025-07-22T19:15:46.278Z] [INFO] GET /js/network-animation.js - 200 - 29ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:15:46.278Z"}
[2025-07-22T19:15:46.292Z] [INFO] GET /js/admin-list.js?v=3 - 200 - 30ms | {"method":"GET","url":"/js/admin-list.js?v=3","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"30ms","timestamp":"2025-07-22T19:15:46.292Z"}
[2025-07-22T19:15:46.293Z] [INFO] GET /js/drag-utils.js - 200 - 25ms | {"method":"GET","url":"/js/drag-utils.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:15:46.293Z"}
[2025-07-22T19:15:46.299Z] [INFO] GET /css/style.css - 200 - 50ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"50ms","timestamp":"2025-07-22T19:15:46.299Z"}
[2025-07-22T19:15:46.300Z] [INFO] GET /js/nav-mobile.js - 200 - 26ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:15:46.300Z"}
[2025-07-22T19:15:46.309Z] [INFO] GET /js/lessons.js?v=4 - 200 - 32ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"32ms","timestamp":"2025-07-22T19:15:46.309Z"}
[2025-07-22T19:15:46.310Z] [INFO] GET /js/encryption.js - 200 - 20ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:15:46.310Z"}
[2025-07-22T19:15:46.314Z] [INFO] GET /css/style.css - 200 - 40ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"40ms","timestamp":"2025-07-22T19:15:46.314Z"}
[2025-07-22T19:15:46.332Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 41ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"41ms","timestamp":"2025-07-22T19:15:46.332Z"}
[2025-07-22T19:15:46.721Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.723Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:15:46.724Z] [INFO] GET /api/csrf-token - 200 - 6ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:15:46.724Z"}
[2025-07-22T19:15:46.750Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.751Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.754Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.770Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.770Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.771Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.778Z] [INFO] GET /api/auth/student/check - 500 - 29ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"29ms","timestamp":"2025-07-22T19:15:46.778Z"}
[2025-07-22T19:15:46.784Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 34ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"34ms","timestamp":"2025-07-22T19:15:46.784Z"}
[2025-07-22T19:15:46.796Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.798Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.799Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.802Z] [INFO] Test session created for admin
[2025-07-22T19:15:46.803Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.804Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.808Z] [INFO] Test session created for admin
[2025-07-22T19:15:46.812Z] [INFO] Test authentication applied | {"path":"/api/admin/dashboard-stats","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.813Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/admin/dashboard-stats',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.822Z] [INFO] GET /api/auth/student/check - 500 - 30ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"30ms","timestamp":"2025-07-22T19:15:46.822Z"}
[2025-07-22T19:15:46.827Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 35ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"35ms","timestamp":"2025-07-22T19:15:46.827Z"}
[2025-07-22T19:15:46.828Z] [INFO] GET /api/admin/dashboard-stats - 500 - 32ms | {"method":"GET","url":"/api/admin/dashboard-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"32ms","timestamp":"2025-07-22T19:15:46.828Z"}
[2025-07-22T19:15:46.929Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.935Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.936Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.951Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:46.951Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.951Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.970Z] [INFO] Test session created for admin
[2025-07-22T19:15:46.970Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:46.971Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:46.979Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 51ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"51ms","timestamp":"2025-07-22T19:15:46.979Z"}
[2025-07-22T19:15:46.983Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 54ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"54ms","timestamp":"2025-07-22T19:15:46.983Z"}
[2025-07-22T19:15:46.990Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 28ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"28ms","timestamp":"2025-07-22T19:15:46.990Z"}
[2025-07-22T19:15:47.013Z] [INFO] Test session created for admin
[2025-07-22T19:15:47.013Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:47.018Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=10&sort=newest&includeStats=true',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:47.029Z] [INFO] GET /api/lessons?page=1&limit=10&sort=newest&includeStats=true - 500 - 19ms | {"method":"GET","url":"/api/lessons?page=1&limit=10&sort=newest&includeStats=true","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"19ms","timestamp":"2025-07-22T19:15:47.029Z"}
[2025-07-22T19:15:47.047Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:47.047Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:47.048Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:47.064Z] [INFO] GET /api/auth/student/check - 500 - 20ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"20ms","timestamp":"2025-07-22T19:15:47.064Z"}
[2025-07-22T19:15:47.124Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:47.124Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:47.125Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:47.146Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:47.148Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:47.151Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:47.154Z] [INFO] GET /api/lessons/1 - 500 - 30ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"30ms","timestamp":"2025-07-22T19:15:47.154Z"}
[2025-07-22T19:15:47.162Z] [INFO] POST /api/encryption/init - 400 - 21ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":400,"responseTime":"21ms","timestamp":"2025-07-22T19:15:47.162Z"}
[2025-07-22T19:15:48.158Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:48.159Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:48.167Z] [INFO] GET /lessons - 200 - 9ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:15:48.166Z"}
[2025-07-22T19:15:48.238Z] [INFO] GET /js/nav-mobile.js - 200 - 29ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:15:48.238Z"}
[2025-07-22T19:15:48.255Z] [INFO] GET /js/lessons.js?v=4 - 200 - 45ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"45ms","timestamp":"2025-07-22T19:15:48.255Z"}
[2025-07-22T19:15:48.259Z] [INFO] GET /css/style.css - 200 - 53ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"53ms","timestamp":"2025-07-22T19:15:48.259Z"}
[2025-07-22T19:15:48.536Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:48.537Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:48.537Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:48.543Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:48.544Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:48.544Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:48.550Z] [INFO] GET /api/auth/student/check - 500 - 17ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"17ms","timestamp":"2025-07-22T19:15:48.550Z"}
[2025-07-22T19:15:48.551Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 17ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"17ms","timestamp":"2025-07-22T19:15:48.551Z"}
[2025-07-22T19:15:48.563Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:48.565Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:48.570Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:48.572Z] [INFO] GET /api/auth/student/check - 500 - 11ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:15:48.572Z"}
[2025-07-22T19:15:48.772Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:48.772Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:48.773Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:48.781Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 10ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:15:48.781Z"}
[2025-07-22T19:15:48.781Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:48.782Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:48.783Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:48.797Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 17ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"17ms","timestamp":"2025-07-22T19:15:48.797Z"}
[2025-07-22T19:15:49.883Z] [INFO] Generated test token | {"userType":"admin","tokenId":"8a90219fae44307a8418bde685c03cb9"}
[2025-07-22T19:15:49.885Z] [INFO] Generated test token | {"userType":"student","tokenId":"1e4b3f8a89dd21f37aa5160da1e5d4b8"}
[2025-07-22T19:15:49.887Z] [INFO] GET /api/test-tokens - 200 - 4ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:15:49.887Z"}
[2025-07-22T19:15:50.300Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:50.301Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:50.312Z] [INFO] GET /lessons - 200 - 13ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:15:50.312Z"}
[2025-07-22T19:15:50.361Z] [INFO] GET /js/nav-mobile.js - 200 - 9ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:15:50.361Z"}
[2025-07-22T19:15:50.370Z] [INFO] GET /css/style.css - 200 - 20ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:15:50.370Z"}
[2025-07-22T19:15:50.372Z] [INFO] GET /js/lessons.js?v=4 - 200 - 20ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:15:50.372Z"}
[2025-07-22T19:15:50.803Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:50.803Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:50.804Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:50.806Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:50.807Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:50.808Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:50.810Z] [INFO] GET /api/auth/student/check - 500 - 9ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:15:50.810Z"}
[2025-07-22T19:15:50.813Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 12ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:15:50.813Z"}
[2025-07-22T19:15:50.816Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:50.817Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:50.817Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:50.820Z] [INFO] GET /api/auth/student/check - 500 - 5ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:15:50.820Z"}
[2025-07-22T19:15:50.836Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:50.836Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:50.838Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:50.840Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:50.842Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:50.843Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:50.845Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 10ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:15:50.845Z"}
[2025-07-22T19:15:50.846Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 11ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:15:50.846Z"}
[2025-07-22T19:15:50.999Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:51.003Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:51.017Z] [INFO] GET /lesson/1 - 200 - 19ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:15:51.017Z"}
[2025-07-22T19:15:51.045Z] [INFO] GET /js/encryption.js - 200 - 5ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:15:51.045Z"}
[2025-07-22T19:15:51.096Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 50ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"50ms","timestamp":"2025-07-22T19:15:51.096Z"}
[2025-07-22T19:15:51.451Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:51.451Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:15:51.452Z] [INFO] GET /api/csrf-token - 200 - 5ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:15:51.452Z"}
[2025-07-22T19:15:51.593Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:51.594Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:51.595Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:51.603Z] [INFO] GET /api/auth/student/check - 500 - 12ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:15:51.603Z"}
[2025-07-22T19:15:51.609Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:51.613Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:51.618Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:51.633Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:51.634Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:51.634Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:15:51.639Z] [INFO] POST /api/encryption/init - 400 - 32ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":400,"responseTime":"32ms","timestamp":"2025-07-22T19:15:51.639Z"}
[2025-07-22T19:15:51.647Z] [INFO] GET /api/lessons/1 - 500 - 23ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"23ms","timestamp":"2025-07-22T19:15:51.647Z"}
[2025-07-22T19:15:51.756Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:51.756Z] [INFO] Test authentication applied | {"path":"/progress","userType":"student","testMode":true}
[2025-07-22T19:15:51.757Z] [WARN] 404 Not Found | {"url":"/progress","method":"GET","ip":"::1"}
[2025-07-22T19:15:51.760Z] [INFO] GET / - 404 - 5ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"5ms","timestamp":"2025-07-22T19:15:51.760Z"}
[2025-07-22T19:15:55.209Z] [INFO] Generated test token | {"userType":"admin","tokenId":"bc19f1c5a14ec90f75db428cc3bc44f0"}
[2025-07-22T19:15:55.212Z] [INFO] Generated test token | {"userType":"student","tokenId":"ffb4c15458d074322f39acc1681435c3"}
[2025-07-22T19:15:55.215Z] [INFO] GET /api/test-tokens - 200 - 15ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:15:55.215Z"}
[2025-07-22T19:15:55.388Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:55.389Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:55.394Z] [INFO] GET /lessons - 200 - 6ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:15:55.394Z"}
[2025-07-22T19:15:55.558Z] [INFO] GET /css/style.css - 200 - 45ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"45ms","timestamp":"2025-07-22T19:15:55.558Z"}
[2025-07-22T19:15:55.577Z] [INFO] GET /js/nav-mobile.js - 200 - 55ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"55ms","timestamp":"2025-07-22T19:15:55.577Z"}
[2025-07-22T19:15:55.578Z] [INFO] GET /js/lessons.js?v=4 - 200 - 52ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"52ms","timestamp":"2025-07-22T19:15:55.578Z"}
[2025-07-22T19:15:55.852Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:55.853Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:55.854Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:55.858Z] [INFO] GET /api/auth/student/check - 500 - 7ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:15:55.858Z"}
[2025-07-22T19:15:55.858Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:55.859Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:55.860Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:55.862Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 5ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:15:55.862Z"}
[2025-07-22T19:15:55.863Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:55.863Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:55.864Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:55.866Z] [INFO] GET /api/auth/student/check - 500 - 5ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:15:55.866Z"}
[2025-07-22T19:15:55.985Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:55.986Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:55.987Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:55.989Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 4ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:15:55.989Z"}
[2025-07-22T19:15:56.192Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:56.195Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:56.195Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:56.205Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 14ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:15:56.205Z"}
[2025-07-22T19:15:56.288Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:56.290Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:15:56.292Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:15:56.314Z] [INFO] GET / - 404 - 26ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"26ms","timestamp":"2025-07-22T19:15:56.314Z"}
[2025-07-22T19:15:58.519Z] [INFO] Generated test token | {"userType":"admin","tokenId":"d084d556ff5c86c355f17a7e6e115398"}
[2025-07-22T19:15:58.519Z] [INFO] Generated test token | {"userType":"student","tokenId":"6a06c7229f9c0a917602f544666ebf30"}
[2025-07-22T19:15:58.521Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:15:58.521Z"}
[2025-07-22T19:15:58.638Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:58.640Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:15:58.662Z] [INFO] GET /lesson/1 - 200 - 24ms | {"method":"GET","url":"/lesson/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:15:58.662Z"}
[2025-07-22T19:15:58.857Z] [INFO] GET /js/encryption.js - 200 - 15ms | {"method":"GET","url":"/js/encryption.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:15:58.857Z"}
[2025-07-22T19:15:58.881Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 34ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"34ms","timestamp":"2025-07-22T19:15:58.881Z"}
[2025-07-22T19:15:59.394Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:59.397Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:15:59.398Z] [INFO] GET /api/csrf-token - 200 - 4ms | {"method":"GET","url":"/api/csrf-token","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:15:59.398Z"}
[2025-07-22T19:15:59.402Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:59.402Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:59.403Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:59.405Z] [INFO] GET /api/auth/student/check - 500 - 5ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:15:59.405Z"}
[2025-07-22T19:15:59.572Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:59.574Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'user-agent',
    'accept',
    'accept-language',
    'accept-encoding',
    'referer',
    'content-type',
    'x-accept-encryption',
    'x-csrf-token',
    'origin',
    'connection',
    'x-playwright-test-token',
    'x-playwright-test-user-agent',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'priority',
    'content-length'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:59.579Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:59.587Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:59.587Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:15:59.587Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:15:59.589Z] [INFO] POST /api/encryption/init - 400 - 18ms | {"method":"POST","url":"/api/encryption/init","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":400,"responseTime":"18ms","timestamp":"2025-07-22T19:15:59.589Z"}
[2025-07-22T19:15:59.591Z] [INFO] GET /api/lessons/1 - 500 - 21ms | {"method":"GET","url":"/api/lessons/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"21ms","timestamp":"2025-07-22T19:15:59.591Z"}
[2025-07-22T19:15:59.834Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:15:59.834Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:15:59.835Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:15:59.850Z] [INFO] GET / - 404 - 26ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"26ms","timestamp":"2025-07-22T19:15:59.850Z"}
[2025-07-22T19:16:00.068Z] [INFO] Generated test token | {"userType":"admin","tokenId":"b0c462a664986179f07e2463206176bb"}
[2025-07-22T19:16:00.068Z] [INFO] Generated test token | {"userType":"student","tokenId":"fe4bd98c79412754295504f044c7d4c0"}
[2025-07-22T19:16:00.070Z] [INFO] GET /api/test-tokens - 200 - 3ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:16:00.070Z"}
[2025-07-22T19:16:00.234Z] [INFO] Test session created for admin
[2025-07-22T19:16:00.235Z] [INFO] Test authentication applied | {"path":"/admin","userType":"admin","testMode":true}
[2025-07-22T19:16:00.245Z] [INFO] GET /admin - 200 - 12ms | {"method":"GET","url":"/admin","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:00.245Z"}
[2025-07-22T19:16:00.616Z] [INFO] GET /css/admin-enhanced.css - 200 - 4ms | {"method":"GET","url":"/css/admin-enhanced.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:00.616Z"}
[2025-07-22T19:16:00.656Z] [INFO] GET /css/style.css - 200 - 43ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:16:00.656Z"}
[2025-07-22T19:16:00.665Z] [INFO] GET /js/network-animation.js - 200 - 43ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:16:00.665Z"}
[2025-07-22T19:16:00.667Z] [INFO] GET /js/admin-list.js?v=3 - 200 - 44ms | {"method":"GET","url":"/js/admin-list.js?v=3","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"44ms","timestamp":"2025-07-22T19:16:00.667Z"}
[2025-07-22T19:16:00.686Z] [INFO] GET /js/drag-utils.js - 200 - 58ms | {"method":"GET","url":"/js/drag-utils.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"58ms","timestamp":"2025-07-22T19:16:00.686Z"}
[2025-07-22T19:16:01.076Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:01.076Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:01.089Z] [INFO] GET /lessons - 200 - 14ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:01.089Z"}
[2025-07-22T19:16:01.193Z] [INFO] GET /js/nav-mobile.js - 200 - 16ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:16:01.193Z"}
[2025-07-22T19:16:01.200Z] [INFO] GET /css/style.css - 200 - 24ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:16:01.200Z"}
[2025-07-22T19:16:01.207Z] [INFO] GET /js/lessons.js?v=4 - 200 - 29ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:16:01.207Z"}
[2025-07-22T19:16:01.385Z] [INFO] Test session created for admin
[2025-07-22T19:16:01.385Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.397Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.414Z] [INFO] Test session created for admin
[2025-07-22T19:16:01.418Z] [INFO] Test authentication applied | {"path":"/api/admin/dashboard-stats","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.424Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/admin/dashboard-stats',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.438Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 57ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"57ms","timestamp":"2025-07-22T19:16:01.438Z"}
[2025-07-22T19:16:01.439Z] [INFO] GET /api/admin/dashboard-stats - 500 - 54ms | {"method":"GET","url":"/api/admin/dashboard-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"54ms","timestamp":"2025-07-22T19:16:01.439Z"}
[2025-07-22T19:16:01.624Z] [INFO] Generated test token | {"userType":"admin","tokenId":"ad99baf082bb5e20907193f5a460383c"}
[2025-07-22T19:16:01.624Z] [INFO] Generated test token | {"userType":"student","tokenId":"a0dd67fc2a6feb36e7414277ff909591"}
[2025-07-22T19:16:01.625Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:01.625Z"}
[2025-07-22T19:16:01.658Z] [INFO] Test session created for admin
[2025-07-22T19:16:01.658Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.659Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.668Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 14ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:16:01.668Z"}
[2025-07-22T19:16:01.718Z] [INFO] Test session created for admin
[2025-07-22T19:16:01.723Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.724Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=10&sort=newest&includeStats=true',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.739Z] [INFO] GET /api/lessons?page=1&limit=10&sort=newest&includeStats=true - 500 - 21ms | {"method":"GET","url":"/api/lessons?page=1&limit=10&sort=newest&includeStats=true","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"21ms","timestamp":"2025-07-22T19:16:01.739Z"}
[2025-07-22T19:16:01.751Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:01.751Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.752Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.758Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:01.762Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.762Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.765Z] [INFO] GET /api/auth/student/check - 500 - 14ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:16:01.765Z"}
[2025-07-22T19:16:01.770Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 20ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"20ms","timestamp":"2025-07-22T19:16:01.770Z"}
[2025-07-22T19:16:01.797Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:01.800Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:01.803Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:01.829Z] [INFO] GET /api/auth/student/check - 500 - 33ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"33ms","timestamp":"2025-07-22T19:16:01.829Z"}
[2025-07-22T19:16:01.847Z] [INFO] GET /dashboard-stats - 401 - 1ms | {"method":"GET","url":"/dashboard-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":401,"responseTime":"1ms","timestamp":"2025-07-22T19:16:01.847Z"}
[2025-07-22T19:16:01.874Z] [INFO] Test session created for admin
[2025-07-22T19:16:01.874Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"admin","testMode":true}
[2025-07-22T19:16:01.874Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:16:01.895Z] [INFO] GET / - 404 - 25ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"25ms","timestamp":"2025-07-22T19:16:01.895Z"}
[2025-07-22T19:16:01.923Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:01.924Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:16:01.925Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:16:01.933Z] [INFO] GET / - 404 - 11ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"11ms","timestamp":"2025-07-22T19:16:01.933Z"}
[2025-07-22T19:16:02.207Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:02.208Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:02.208Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:02.211Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:02.211Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:02.211Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:02.219Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 15ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"15ms","timestamp":"2025-07-22T19:16:02.219Z"}
[2025-07-22T19:16:02.219Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 14ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:16:02.219Z"}
[2025-07-22T19:16:02.309Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:02.309Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:02.318Z] [INFO] GET /lesson/1 - 200 - 12ms | {"method":"GET","url":"/lesson/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:02.318Z"}
[2025-07-22T19:16:02.457Z] [INFO] GET /js/encryption.js - 200 - 12ms | {"method":"GET","url":"/js/encryption.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:02.457Z"}
[2025-07-22T19:16:02.470Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 16ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:16:02.470Z"}
[2025-07-22T19:16:02.958Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:02.959Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:16:02.960Z] [INFO] GET /api/csrf-token - 200 - 6ms | {"method":"GET","url":"/api/csrf-token","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:02.960Z"}
[2025-07-22T19:16:03.015Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:03.015Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'user-agent',
    'accept',
    'accept-language',
    'accept-encoding',
    'referer',
    'content-type',
    'x-accept-encryption',
    'x-csrf-token',
    'origin',
    'connection',
    'x-playwright-test-token',
    'x-playwright-test-user-agent',
    'sec-fetch-dest',
    'sec-fetch-mode',
    'sec-fetch-site',
    'priority',
    'content-length'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:03.022Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:03.033Z] [INFO] POST /api/encryption/init - 400 - 19ms | {"method":"POST","url":"/api/encryption/init","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":400,"responseTime":"19ms","timestamp":"2025-07-22T19:16:03.033Z"}
[2025-07-22T19:16:03.178Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:03.179Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:03.180Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:03.183Z] [INFO] GET /api/auth/student/check - 500 - 15ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"15ms","timestamp":"2025-07-22T19:16:03.183Z"}
[2025-07-22T19:16:03.265Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:03.265Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:03.265Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:03.268Z] [INFO] GET /api/lessons/1 - 500 - 7ms | {"method":"GET","url":"/api/lessons/1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:16:03.268Z"}
[2025-07-22T19:16:03.354Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:03.362Z] [INFO] Test authentication applied | {"path":"/progress","userType":"student","testMode":true}
[2025-07-22T19:16:03.362Z] [WARN] 404 Not Found | {"url":"/progress","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:16:03.370Z] [INFO] GET / - 404 - 17ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"17ms","timestamp":"2025-07-22T19:16:03.370Z"}
[2025-07-22T19:16:09.728Z] [INFO] Generated test token | {"userType":"admin","tokenId":"bc89fed1c74b9f8260ca1a822c1c1ee6"}
[2025-07-22T19:16:09.728Z] [INFO] Generated test token | {"userType":"student","tokenId":"c86736a2d841938c883a37d3f6786704"}
[2025-07-22T19:16:09.728Z] [INFO] GET /api/test-tokens - 200 - 1ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:16:09.728Z"}
[2025-07-22T19:16:09.973Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:09.973Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:09.976Z] [INFO] GET /lessons - 200 - 3ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:16:09.976Z"}
[2025-07-22T19:16:10.261Z] [INFO] GET /css/style.css - 200 - 10ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:10.261Z"}
[2025-07-22T19:16:10.263Z] [INFO] GET /js/nav-mobile.js - 200 - 8ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:10.263Z"}
[2025-07-22T19:16:10.267Z] [INFO] GET /js/lessons.js?v=4 - 200 - 10ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:10.267Z"}
[2025-07-22T19:16:10.677Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:10.680Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:10.681Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:10.684Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:10.684Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:10.684Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:10.685Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:10.685Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:10.686Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:10.688Z] [INFO] GET /api/auth/student/check - 500 - 12ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:16:10.688Z"}
[2025-07-22T19:16:10.692Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 9ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:16:10.692Z"}
[2025-07-22T19:16:10.693Z] [INFO] GET /api/auth/student/check - 500 - 10ms | {"method":"GET","url":"/api/auth/student/check","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:16:10.693Z"}
[2025-07-22T19:16:11.068Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:11.069Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:11.070Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:11.075Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:11.077Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:11.079Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::ffff:127.0.0.1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
    sessionId: undefined
  }
}
[2025-07-22T19:16:11.090Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 25ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"25ms","timestamp":"2025-07-22T19:16:11.090Z"}
[2025-07-22T19:16:11.093Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 27ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":500,"responseTime":"27ms","timestamp":"2025-07-22T19:16:11.093Z"}
[2025-07-22T19:16:11.217Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:11.218Z] [INFO] Test authentication applied | {"path":"/favicon.ico","userType":"student","testMode":true}
[2025-07-22T19:16:11.219Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:16:11.226Z] [INFO] GET / - 404 - 8ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"8ms","timestamp":"2025-07-22T19:16:11.226Z"}
[2025-07-22T19:16:14.697Z] [INFO] Generated test token | {"userType":"admin","tokenId":"afee398d32d427ee2d62b4f717e53bd9"}
[2025-07-22T19:16:14.699Z] [INFO] Generated test token | {"userType":"student","tokenId":"3f54a43f826f01e31a75966c2dfadd22"}
[2025-07-22T19:16:14.701Z] [INFO] GET /api/test-tokens - 200 - 7ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:14.701Z"}
[2025-07-22T19:16:14.740Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:14.740Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:14.745Z] [INFO] GET /lessons - 200 - 6ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:14.745Z"}
[2025-07-22T19:16:14.783Z] [INFO] GET /js/nav-mobile.js - 200 - 10ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:14.783Z"}
[2025-07-22T19:16:14.784Z] [INFO] GET /js/lessons.js?v=4 - 200 - 11ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:14.784Z"}
[2025-07-22T19:16:14.811Z] [INFO] GET /css/style.css - 200 - 39ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"39ms","timestamp":"2025-07-22T19:16:14.811Z"}
[2025-07-22T19:16:15.242Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:15.243Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:15.244Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:15.247Z] [INFO] GET /api/auth/student/check - 500 - 6ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:16:15.247Z"}
[2025-07-22T19:16:15.248Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:15.248Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:15.250Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:15.252Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 6ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:16:15.252Z"}
[2025-07-22T19:16:15.254Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:15.254Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:15.255Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:15.263Z] [INFO] GET /api/auth/student/check - 500 - 11ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"11ms","timestamp":"2025-07-22T19:16:15.263Z"}
[2025-07-22T19:16:15.329Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:15.329Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:15.330Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:15.332Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:15.332Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:15.333Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:15.338Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 10ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:16:15.338Z"}
[2025-07-22T19:16:15.341Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 13ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"13ms","timestamp":"2025-07-22T19:16:15.341Z"}
[2025-07-22T19:16:17.242Z] [INFO] Generated test token | {"userType":"admin","tokenId":"d328ee434c86c0267762d504b94773b9"}
[2025-07-22T19:16:17.242Z] [INFO] Generated test token | {"userType":"student","tokenId":"5abc825e5216228156e684c06e0b39fa"}
[2025-07-22T19:16:17.243Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:17.243Z"}
[2025-07-22T19:16:17.274Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:17.274Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:17.280Z] [INFO] GET /lesson/1 - 200 - 7ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:17.280Z"}
[2025-07-22T19:16:17.307Z] [INFO] GET /js/encryption.js - 200 - 4ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:17.307Z"}
[2025-07-22T19:16:17.315Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 9ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:16:17.315Z"}
[2025-07-22T19:16:17.696Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:17.697Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:16:17.698Z] [INFO] GET /api/csrf-token - 200 - 3ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:16:17.698Z"}
[2025-07-22T19:16:17.846Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:17.846Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:17.847Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:17.854Z] [INFO] GET /api/auth/student/check - 500 - 8ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:16:17.853Z"}
[2025-07-22T19:16:17.877Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:17.878Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:17.883Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:17.886Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:17.886Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:17.887Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:17.888Z] [INFO] POST /api/encryption/init - 400 - 12ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":400,"responseTime":"12ms","timestamp":"2025-07-22T19:16:17.888Z"}
[2025-07-22T19:16:17.899Z] [INFO] GET /api/lessons/1 - 500 - 14ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:16:17.899Z"}
[2025-07-22T19:16:18.358Z] [INFO] Test session created for admin
[2025-07-22T19:16:18.359Z] [INFO] Test authentication applied | {"path":"/admin","userType":"admin","testMode":true}
[2025-07-22T19:16:18.363Z] [INFO] GET /admin - 200 - 5ms | {"method":"GET","url":"/admin","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:18.363Z"}
[2025-07-22T19:16:18.395Z] [INFO] GET /css/admin-enhanced.css - 200 - 11ms | {"method":"GET","url":"/css/admin-enhanced.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:18.395Z"}
[2025-07-22T19:16:18.400Z] [INFO] GET /js/network-animation.js - 200 - 9ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:16:18.400Z"}
[2025-07-22T19:16:18.403Z] [INFO] GET /js/drag-utils.js - 200 - 12ms | {"method":"GET","url":"/js/drag-utils.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:18.403Z"}
[2025-07-22T19:16:18.409Z] [INFO] GET /js/admin-list.js?v=3 - 200 - 18ms | {"method":"GET","url":"/js/admin-list.js?v=3","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:16:18.409Z"}
[2025-07-22T19:16:18.411Z] [INFO] GET /css/style.css - 200 - 21ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:16:18.411Z"}
[2025-07-22T19:16:18.786Z] [INFO] Test session created for admin
[2025-07-22T19:16:18.786Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:18.787Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:18.789Z] [INFO] Test session created for admin
[2025-07-22T19:16:18.789Z] [INFO] Test authentication applied | {"path":"/api/admin/dashboard-stats","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:18.791Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/admin/dashboard-stats',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:18.793Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 8ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:16:18.793Z"}
[2025-07-22T19:16:18.795Z] [INFO] GET /api/admin/dashboard-stats - 500 - 10ms | {"method":"GET","url":"/api/admin/dashboard-stats","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:16:18.795Z"}
[2025-07-22T19:16:18.847Z] [INFO] Test session created for admin
[2025-07-22T19:16:18.848Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:18.848Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:18.853Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 8ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"8ms","timestamp":"2025-07-22T19:16:18.853Z"}
[2025-07-22T19:16:18.927Z] [INFO] Test session created for admin
[2025-07-22T19:16:18.928Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"admin","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:18.930Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=10&sort=newest&includeStats=true',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:18.938Z] [INFO] GET /api/lessons?page=1&limit=10&sort=newest&includeStats=true - 500 - 12ms | {"method":"GET","url":"/api/lessons?page=1&limit=10&sort=newest&includeStats=true","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"12ms","timestamp":"2025-07-22T19:16:18.938Z"}
[2025-07-22T19:16:20.549Z] [INFO] GET /dashboard-stats - 401 - 1ms | {"method":"GET","url":"/dashboard-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":401,"responseTime":"1ms","timestamp":"2025-07-22T19:16:20.549Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: '3S9t_s3oZblP2HEnS5j3P3T2lNHRTIgG',
  userAgent: 'curl/8.5.0',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:16:21.360Z] [INFO] GET /lessons - 302 - 3ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"curl/8.5.0","statusCode":302,"responseTime":"3ms","timestamp":"2025-07-22T19:16:21.360Z"}
[2025-07-22T19:16:22.744Z] [INFO] Generated test token | {"userType":"admin","tokenId":"31080cee1d830073439a3d2022315b47"}
[2025-07-22T19:16:22.745Z] [INFO] Generated test token | {"userType":"student","tokenId":"3554f128e5737d8ef830fe8d51df9d67"}
[2025-07-22T19:16:22.747Z] [INFO] GET /api/test-tokens - 200 - 4ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:22.747Z"}
[2025-07-22T19:16:22.971Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:22.972Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:22.978Z] [INFO] GET /lessons - 200 - 8ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:22.978Z"}
[2025-07-22T19:16:23.003Z] [INFO] GET /js/nav-mobile.js - 200 - 3ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:16:23.003Z"}
[2025-07-22T19:16:23.006Z] [INFO] GET /js/lessons.js?v=4 - 200 - 6ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:23.006Z"}
[2025-07-22T19:16:23.007Z] [INFO] GET /css/style.css - 200 - 8ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:23.007Z"}
[2025-07-22T19:16:23.354Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.356Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.358Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.360Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.360Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.367Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.368Z] [INFO] GET /api/auth/student/check - 500 - 16ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"16ms","timestamp":"2025-07-22T19:16:23.368Z"}
[2025-07-22T19:16:23.374Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 14ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"14ms","timestamp":"2025-07-22T19:16:23.374Z"}
[2025-07-22T19:16:23.383Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.383Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.384Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.390Z] [INFO] GET /api/auth/student/check - 500 - 7ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"7ms","timestamp":"2025-07-22T19:16:23.390Z"}
[2025-07-22T19:16:23.439Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.440Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.440Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.441Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.441Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.442Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.443Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 4ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"4ms","timestamp":"2025-07-22T19:16:23.443Z"}
[2025-07-22T19:16:23.444Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 5ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:16:23.444Z"}
[2025-07-22T19:16:23.491Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.491Z] [INFO] Test authentication applied | {"path":"/lesson/1","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lesson/1',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:23.497Z] [INFO] GET /lesson/1 - 200 - 6ms | {"method":"GET","url":"/lesson/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:23.497Z"}
[2025-07-22T19:16:23.536Z] [INFO] GET /js/encryption.js - 200 - 6ms | {"method":"GET","url":"/js/encryption.js","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:23.536Z"}
[2025-07-22T19:16:23.540Z] [INFO] GET /js/lesson.js?v=1.1 - 200 - 10ms | {"method":"GET","url":"/js/lesson.js?v=1.1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:23.540Z"}
[2025-07-22T19:16:23.873Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.873Z] [INFO] Test authentication applied | {"path":"/api/csrf-token","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[2025-07-22T19:16:23.874Z] [INFO] GET /api/csrf-token - 200 - 2ms | {"method":"GET","url":"/api/csrf-token","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:23.874Z"}
[2025-07-22T19:16:23.959Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.959Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.959Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.961Z] [INFO] GET /api/auth/student/check - 500 - 3ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"3ms","timestamp":"2025-07-22T19:16:23.961Z"}
[2025-07-22T19:16:23.975Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.976Z] [INFO] Test authentication applied | {"path":"/api/encryption/init","userType":"student","testMode":true}
[CSRF Debug] Generated new CSRF token for session: { sessionId: undefined, tokenLength: 64 }
[CSRF Debug] Validating request: {
  path: '/encryption/init',
  method: 'POST',
  hasSession: true,
  sessionId: undefined,
  hasSessionToken: true,
  requestTokenInBody: false,
  requestTokenInHeader: true,
  headers: [
    'host',
    'connection',
    'content-length',
    'x-playwright-test-token',
    'x-accept-encryption',
    'sec-ch-ua-platform',
    'x-csrf-token',
    'accept-language',
    'sec-ch-ua',
    'x-playwright-test-user-agent',
    'sec-ch-ua-mobile',
    'user-agent',
    'content-type',
    'accept',
    'origin',
    'sec-fetch-site',
    'sec-fetch-mode',
    'sec-fetch-dest',
    'referer',
    'accept-encoding'
  ],
  bodyKeys: []
}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.976Z',
  message: 'Invalid CSRF token',
  stack: 'Error: Invalid CSRF token\n' +
    '    at validateCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:105:11)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at addCSRFToken (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/csrf.js:47:3)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/api/index.js:186:5\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9',
  statusCode: 400,
  code: 'VALIDATION_ERROR',
  request: {
    method: 'POST',
    url: '/api/encryption/init',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.977Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:23.977Z] [INFO] Test authentication applied | {"path":"/api/lessons/1","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:23.978Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons/1',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Playwright Test) AppleWebKit/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:23.981Z] [INFO] POST /api/encryption/init - 400 - 6ms | {"method":"POST","url":"/api/encryption/init","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":400,"responseTime":"6ms","timestamp":"2025-07-22T19:16:23.981Z"}
[2025-07-22T19:16:23.981Z] [INFO] GET /api/lessons/1 - 500 - 6ms | {"method":"GET","url":"/api/lessons/1","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:16:23.981Z"}
[2025-07-22T19:16:23.995Z] [INFO] Generated test token | {"userType":"admin","tokenId":"167a8e1616e63a304eeeadfdd01abfcc"}
[2025-07-22T19:16:23.996Z] [INFO] Generated test token | {"userType":"student","tokenId":"87b1df165e71acd5ab00d74935f1b6f8"}
[2025-07-22T19:16:23.996Z] [INFO] GET /api/test-tokens - 200 - 2ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:23.996Z"}
[2025-07-22T19:16:24.027Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.027Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:24.031Z] [INFO] GET /lessons - 200 - 5ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:24.031Z"}
[2025-07-22T19:16:24.050Z] [INFO] GET /js/nav-mobile.js - 200 - 2ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:24.050Z"}
[2025-07-22T19:16:24.053Z] [INFO] GET /js/lessons.js?v=4 - 200 - 5ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:24.053Z"}
[2025-07-22T19:16:24.054Z] [INFO] GET /css/style.css - 200 - 7ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:24.054Z"}
[2025-07-22T19:16:24.075Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.075Z] [INFO] Test authentication applied | {"path":"/progress","userType":"student","testMode":true}
[2025-07-22T19:16:24.075Z] [WARN] 404 Not Found | {"url":"/progress","method":"GET","ip":"::1"}
[2025-07-22T19:16:24.078Z] [INFO] GET / - 404 - 3ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Playwright Test) AppleWebKit/537.36","statusCode":404,"responseTime":"3ms","timestamp":"2025-07-22T19:16:24.078Z"}
[2025-07-22T19:16:24.400Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.400Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:24.401Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:24.403Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.404Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:24.405Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:24.409Z] [INFO] GET /api/auth/student/check - 500 - 10ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"10ms","timestamp":"2025-07-22T19:16:24.409Z"}
[2025-07-22T19:16:24.411Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 9ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"9ms","timestamp":"2025-07-22T19:16:24.411Z"}
[2025-07-22T19:16:24.417Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.417Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:24.420Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:24.422Z] [INFO] GET /api/auth/student/check - 500 - 6ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"6ms","timestamp":"2025-07-22T19:16:24.422Z"}
[2025-07-22T19:16:24.494Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.494Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:24.494Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:24.498Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 5ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"5ms","timestamp":"2025-07-22T19:16:24.498Z"}
[2025-07-22T19:16:24.507Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:24.507Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:24.508Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:24.517Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 21ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Mobile Safari/537.36","statusCode":500,"responseTime":"21ms","timestamp":"2025-07-22T19:16:24.517Z"}
[2025-07-22T19:16:29.029Z] [INFO] GET / - 200 - 3ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:16:29.029Z"}
[2025-07-22T19:16:29.053Z] [INFO] GET / - 200 - 6ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:29.053Z"}
[2025-07-22T19:16:33.673Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:33.673Z"}
[2025-07-22T19:16:33.748Z] [INFO] GET /images/lesson1.jpg - 200 - 18ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:16:33.748Z"}
[2025-07-22T19:16:33.756Z] [INFO] GET /images/lesson2.jpg - 200 - 25ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:16:33.756Z"}
[2025-07-22T19:16:33.784Z] [INFO] GET /css/style.css - 200 - 67ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"67ms","timestamp":"2025-07-22T19:16:33.784Z"}
[2025-07-22T19:16:33.881Z] [INFO] GET /images/lesson3.jpg - 200 - 59ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"59ms","timestamp":"2025-07-22T19:16:33.881Z"}
[2025-07-22T19:16:33.884Z] [INFO] GET /images/lesson4.jpg - 200 - 17ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:16:33.884Z"}
[2025-07-22T19:16:33.896Z] [INFO] GET /js/nav-mobile.js - 200 - 29ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:16:33.896Z"}
[2025-07-22T19:16:33.898Z] [INFO] GET /js/network-animation.js - 200 - 29ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:16:33.897Z"}
[2025-07-22T19:16:33.899Z] [INFO] GET /js/landing.js - 200 - 31ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:16:33.899Z"}
[2025-07-22T19:16:33.910Z] [INFO] GET / - 200 - 10ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:33.910Z"}
[2025-07-22T19:16:33.944Z] [INFO] GET / - 200 - 8ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:33.944Z"}
[2025-07-22T19:16:34.145Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:34.145Z"}
[2025-07-22T19:16:34.239Z] [INFO] GET /css/style.css - 200 - 17ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:16:34.239Z"}
[2025-07-22T19:16:34.250Z] [INFO] GET / - 200 - 15ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:16:34.250Z"}
[2025-07-22T19:16:34.260Z] [INFO] GET /images/lesson1.jpg - 200 - 2ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:34.260Z"}
[2025-07-22T19:16:34.295Z] [INFO] GET /images/lesson2.jpg - 200 - 24ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:16:34.295Z"}
[2025-07-22T19:16:34.308Z] [INFO] GET /images/lesson4.jpg - 200 - 34ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"34ms","timestamp":"2025-07-22T19:16:34.308Z"}
[2025-07-22T19:16:34.321Z] [INFO] GET /images/lesson3.jpg - 200 - 47ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"47ms","timestamp":"2025-07-22T19:16:34.321Z"}
[2025-07-22T19:16:34.340Z] [INFO] GET /js/nav-mobile.js - 200 - 65ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"65ms","timestamp":"2025-07-22T19:16:34.340Z"}
[2025-07-22T19:16:34.373Z] [INFO] GET /js/network-animation.js - 200 - 64ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"64ms","timestamp":"2025-07-22T19:16:34.373Z"}
[2025-07-22T19:16:34.374Z] [INFO] GET /js/landing.js - 200 - 64ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"64ms","timestamp":"2025-07-22T19:16:34.374Z"}
[2025-07-22T19:16:34.415Z] [INFO] GET /images/lesson1.jpg - 200 - 60ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"60ms","timestamp":"2025-07-22T19:16:34.415Z"}
[2025-07-22T19:16:34.447Z] [INFO] GET /images/lesson2.jpg - 200 - 84ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"84ms","timestamp":"2025-07-22T19:16:34.447Z"}
[2025-07-22T19:16:34.478Z] [INFO] GET /images/lesson4.jpg - 200 - 63ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"63ms","timestamp":"2025-07-22T19:16:34.478Z"}
[2025-07-22T19:16:34.481Z] [INFO] GET /css/style.css - 200 - 149ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"149ms","timestamp":"2025-07-22T19:16:34.481Z"}
[2025-07-22T19:16:34.506Z] [INFO] GET /images/lesson3.jpg - 200 - 110ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"110ms","timestamp":"2025-07-22T19:16:34.506Z"}
[2025-07-22T19:16:34.553Z] [INFO] GET /js/nav-mobile.js - 200 - 125ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"125ms","timestamp":"2025-07-22T19:16:34.553Z"}
[2025-07-22T19:16:34.570Z] [INFO] GET /js/network-animation.js - 200 - 116ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"116ms","timestamp":"2025-07-22T19:16:34.570Z"}
[2025-07-22T19:16:34.592Z] [INFO] GET /js/landing.js - 200 - 11ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:34.592Z"}
[2025-07-22T19:16:34.602Z] [INFO] GET / - 200 - 5ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:34.602Z"}
[2025-07-22T19:16:34.651Z] [INFO] GET /images/lesson1.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:34.651Z"}
[2025-07-22T19:16:34.659Z] [INFO] GET /images/lesson2.jpg - 200 - 12ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:34.659Z"}
[2025-07-22T19:16:34.672Z] [INFO] GET /css/style.css - 200 - 26ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:16:34.672Z"}
[2025-07-22T19:16:34.673Z] [INFO] GET /images/lesson4.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:34.673Z"}
[2025-07-22T19:16:34.674Z] [INFO] GET /images/lesson3.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:34.674Z"}
[2025-07-22T19:16:34.704Z] [INFO] GET /js/nav-mobile.js - 200 - 9ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:16:34.704Z"}
[2025-07-22T19:16:34.710Z] [INFO] GET /js/network-animation.js - 200 - 15ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:16:34.710Z"}
[2025-07-22T19:16:34.726Z] [INFO] GET /js/landing.js - 200 - 8ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:34.726Z"}
[2025-07-22T19:16:36.248Z] [INFO] GET /platform-stats - 200 - 1507ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1507ms","timestamp":"2025-07-22T19:16:36.248Z"}
[2025-07-22T19:16:36.252Z] [INFO] GET /platform-stats - 200 - 958ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"958ms","timestamp":"2025-07-22T19:16:36.252Z"}
[2025-07-22T19:16:36.261Z] [INFO] GET /platform-stats - 200 - 836ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"836ms","timestamp":"2025-07-22T19:16:36.261Z"}
[2025-07-22T19:16:36.306Z] [INFO] GET /platform-stats - 200 - 655ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"655ms","timestamp":"2025-07-22T19:16:36.306Z"}
[2025-07-22T19:16:38.282Z] [INFO] GET / - 200 - 21ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:16:38.282Z"}
[2025-07-22T19:16:38.371Z] [INFO] GET /images/lesson1.jpg - 200 - 21ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:16:38.371Z"}
[2025-07-22T19:16:38.376Z] [INFO] GET /images/lesson2.jpg - 200 - 26ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:16:38.376Z"}
[2025-07-22T19:16:38.400Z] [INFO] GET /css/style.css - 200 - 62ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"62ms","timestamp":"2025-07-22T19:16:38.400Z"}
[2025-07-22T19:16:38.410Z] [INFO] GET /images/lesson4.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:16:38.410Z"}
[2025-07-22T19:16:38.418Z] [INFO] GET /images/lesson3.jpg - 200 - 27ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:16:38.418Z"}
[2025-07-22T19:16:38.422Z] [INFO] GET /js/nav-mobile.js - 200 - 28ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:16:38.422Z"}
[2025-07-22T19:16:38.424Z] [INFO] GET /js/network-animation.js - 200 - 29ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:16:38.424Z"}
[2025-07-22T19:16:38.428Z] [INFO] GET /js/landing.js - 200 - 31ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:16:38.428Z"}
[2025-07-22T19:16:39.161Z] [INFO] GET / - 200 - 9ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:16:39.161Z"}
[2025-07-22T19:16:39.204Z] [INFO] GET /images/lesson1.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:39.204Z"}
[2025-07-22T19:16:39.239Z] [INFO] GET /images/lesson2.jpg - 200 - 34ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"34ms","timestamp":"2025-07-22T19:16:39.239Z"}
[2025-07-22T19:16:39.253Z] [INFO] GET /css/style.css - 200 - 74ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"74ms","timestamp":"2025-07-22T19:16:39.253Z"}
[2025-07-22T19:16:39.274Z] [INFO] GET /images/lesson4.jpg - 200 - 61ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"61ms","timestamp":"2025-07-22T19:16:39.274Z"}
[2025-07-22T19:16:39.278Z] [INFO] GET /images/lesson3.jpg - 200 - 73ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"73ms","timestamp":"2025-07-22T19:16:39.278Z"}
[2025-07-22T19:16:39.315Z] [INFO] GET /js/network-animation.js - 200 - 89ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"89ms","timestamp":"2025-07-22T19:16:39.315Z"}
[2025-07-22T19:16:39.316Z] [INFO] GET /js/nav-mobile.js - 200 - 90ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"90ms","timestamp":"2025-07-22T19:16:39.316Z"}
[2025-07-22T19:16:39.327Z] [INFO] GET /js/landing.js - 200 - 28ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:16:39.327Z"}
[2025-07-22T19:16:39.337Z] [INFO] GET / - 200 - 21ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:16:39.337Z"}
[2025-07-22T19:16:39.391Z] [INFO] GET /images/lesson1.jpg - 200 - 12ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:39.391Z"}
[2025-07-22T19:16:39.392Z] [INFO] GET /images/lesson2.jpg - 200 - 13ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:16:39.392Z"}
[2025-07-22T19:16:39.398Z] [INFO] GET /css/style.css - 200 - 21ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:16:39.398Z"}
[2025-07-22T19:16:39.458Z] [INFO] GET /images/lesson4.jpg - 200 - 25ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:16:39.458Z"}
[2025-07-22T19:16:39.474Z] [INFO] GET /images/lesson3.jpg - 200 - 42ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"42ms","timestamp":"2025-07-22T19:16:39.474Z"}
[2025-07-22T19:16:39.483Z] [INFO] GET /js/landing.js - 200 - 50ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"50ms","timestamp":"2025-07-22T19:16:39.483Z"}
[2025-07-22T19:16:39.483Z] [INFO] GET /js/nav-mobile.js - 200 - 49ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"49ms","timestamp":"2025-07-22T19:16:39.483Z"}
[2025-07-22T19:16:39.514Z] [INFO] GET /js/network-animation.js - 200 - 80ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"80ms","timestamp":"2025-07-22T19:16:39.514Z"}
[2025-07-22T19:16:39.541Z] [INFO] GET /platform-stats - 200 - 645ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"645ms","timestamp":"2025-07-22T19:16:39.541Z"}
[2025-07-22T19:16:40.110Z] [INFO] GET /platform-stats - 200 - 561ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"561ms","timestamp":"2025-07-22T19:16:40.109Z"}
[2025-07-22T19:16:40.577Z] [INFO] GET /platform-stats - 200 - 594ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"594ms","timestamp":"2025-07-22T19:16:40.577Z"}
[2025-07-22T19:16:41.759Z] [INFO] Generated test token | {"userType":"admin","tokenId":"654d5980565bc81b546b3bbb041143a6"}
[2025-07-22T19:16:41.760Z] [INFO] Generated test token | {"userType":"student","tokenId":"42ae2c0e825fe168f6129f33d14e001f"}
[2025-07-22T19:16:41.761Z] [INFO] GET /api/test-tokens - 200 - 6ms | {"method":"GET","url":"/api/test-tokens","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:41.761Z"}
[2025-07-22T19:16:41.837Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:41.841Z] [INFO] Test authentication applied | {"path":"/lessons","userType":"student","testMode":true}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: undefined,
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: 1,
  isAdminAuthenticated: false,
  hasAccess: 1,
  studentId: 1,
  studentName: 'Test Student'
}
‚úÖ User authenticated (student or admin), proceeding
[2025-07-22T19:16:41.852Z] [INFO] GET /lessons - 200 - 16ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:16:41.852Z"}
[2025-07-22T19:16:41.928Z] [INFO] GET /js/nav-mobile.js - 200 - 25ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:16:41.928Z"}
[2025-07-22T19:16:41.938Z] [INFO] GET /js/lessons.js?v=4 - 200 - 30ms | {"method":"GET","url":"/js/lessons.js?v=4","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"30ms","timestamp":"2025-07-22T19:16:41.938Z"}
[2025-07-22T19:16:41.967Z] [INFO] GET /css/style.css - 200 - 64ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"64ms","timestamp":"2025-07-22T19:16:41.967Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: 'LBvjYmpiW-wA1xfUzuIIMyOA1Vlc0983',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:16:42.364Z] [INFO] GET /lessons - 302 - 2ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"2ms","timestamp":"2025-07-22T19:16:42.364Z"}
[2025-07-22T19:16:42.424Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 25ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:16:42.424Z"}
[2025-07-22T19:16:42.485Z] [INFO] GET /js/device-id.js - 200 - 8ms | {"method":"GET","url":"/js/device-id.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:42.485Z"}
[2025-07-22T19:16:42.773Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:42.773Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:42.774Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:42.804Z] [INFO] GET /api/auth/student/check - 500 - 34ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"34ms","timestamp":"2025-07-22T19:16:42.804Z"}
[2025-07-22T19:16:42.804Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:42.804Z] [INFO] Test authentication applied | {"path":"/api/tags/complete","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:42.805Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/complete?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:42.813Z] [INFO] GET /api/tags/complete?limit=8 - 500 - 17ms | {"method":"GET","url":"/api/tags/complete?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"17ms","timestamp":"2025-07-22T19:16:42.813Z"}
[2025-07-22T19:16:42.837Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:42.838Z] [INFO] Test authentication applied | {"path":"/api/auth/student/check","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:42.838Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/auth/student/check',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:42.847Z] [INFO] GET /api/auth/student/check - 500 - 34ms | {"method":"GET","url":"/api/auth/student/check","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"34ms","timestamp":"2025-07-22T19:16:42.847Z"}
[2025-07-22T19:16:42.908Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:42.909Z] [INFO] Test authentication applied | {"path":"/api/lessons","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:42.910Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/lessons?page=1&limit=12&search=&sort=newest',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:42.928Z] [INFO] GET /api/lessons?page=1&limit=12&search=&sort=newest - 500 - 22ms | {"method":"GET","url":"/api/lessons?page=1&limit=12&search=&sort=newest","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"22ms","timestamp":"2025-07-22T19:16:42.928Z"}
[2025-07-22T19:16:42.928Z] [INFO] Test session created for student | {"studentId":1}
[2025-07-22T19:16:42.929Z] [INFO] Test authentication applied | {"path":"/api/tags/popular","userType":"student","testMode":true}
üö® Error occurred: {
  timestamp: '2025-07-22T19:16:42.929Z',
  message: "Cannot set properties of undefined (setting 'maxAge')",
  stack: "TypeError: Cannot set properties of undefined (setting 'maxAge')\n" +
    '    at SessionService.extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/services/sessionService.js:275:33)\n' +
    '    at extendSessionOnActivity (/media/neifui/New Volume/linux-working/OnluyenVatLy/lib/middleware/auth.js:264:22)\n' +
    '    at Layer.handle [as handle_request] (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/layer.js:95:5)\n' +
    '    at trim_prefix (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:328:13)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:286:9\n' +
    '    at router.process_params (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:346:12)\n' +
    '    at next (/media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express/lib/router/index.js:280:10)\n' +
    '    at /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:807:7\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at async /media/neifui/New Volume/linux-working/OnluyenVatLy/node_modules/express-rate-limit/dist/index.cjs:691:5',
  statusCode: undefined,
  code: undefined,
  request: {
    method: 'GET',
    url: '/api/tags/popular?limit=8',
    ip: '::1',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
    sessionId: undefined
  }
}
[2025-07-22T19:16:42.945Z] [INFO] GET /api/tags/popular?limit=8 - 500 - 22ms | {"method":"GET","url":"/api/tags/popular?limit=8","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":500,"responseTime":"22ms","timestamp":"2025-07-22T19:16:42.945Z"}
[2025-07-22T19:16:43.125Z] [INFO] GET / - 200 - 23ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"23ms","timestamp":"2025-07-22T19:16:43.125Z"}
[2025-07-22T19:16:43.203Z] [INFO] GET /images/lesson1.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:16:43.203Z"}
[2025-07-22T19:16:43.208Z] [INFO] GET /images/lesson2.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:16:43.208Z"}
[2025-07-22T19:16:43.236Z] [INFO] GET /css/style.css - 200 - 49ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"49ms","timestamp":"2025-07-22T19:16:43.236Z"}
[2025-07-22T19:16:43.313Z] [INFO] GET /images/lesson4.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:16:43.313Z"}
[2025-07-22T19:16:43.321Z] [INFO] GET /images/lesson3.jpg - 200 - 28ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:16:43.321Z"}
[2025-07-22T19:16:43.326Z] [INFO] GET /js/nav-mobile.js - 200 - 33ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"33ms","timestamp":"2025-07-22T19:16:43.326Z"}
[2025-07-22T19:16:43.328Z] [INFO] GET /js/network-animation.js - 200 - 34ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"34ms","timestamp":"2025-07-22T19:16:43.328Z"}
[2025-07-22T19:16:43.344Z] [INFO] GET /js/landing.js - 200 - 50ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"50ms","timestamp":"2025-07-22T19:16:43.344Z"}
[2025-07-22T19:16:43.419Z] [INFO] GET / - 200 - 11ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:43.419Z"}
[2025-07-22T19:16:43.480Z] [INFO] GET /images/lesson1.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:43.480Z"}
[2025-07-22T19:16:43.483Z] [INFO] GET /images/lesson2.jpg - 200 - 13ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:16:43.483Z"}
[2025-07-22T19:16:43.495Z] [INFO] GET /css/style.css - 200 - 26ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:16:43.495Z"}
[2025-07-22T19:16:43.556Z] [INFO] GET /images/lesson3.jpg - 200 - 24ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:16:43.556Z"}
[2025-07-22T19:16:43.556Z] [INFO] GET /images/lesson4.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:43.556Z"}
[2025-07-22T19:16:43.582Z] [INFO] GET /js/nav-mobile.js - 200 - 5ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:16:43.582Z"}
[2025-07-22T19:16:43.622Z] [INFO] GET /js/network-animation.js - 200 - 14ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:43.622Z"}
[2025-07-22T19:16:43.625Z] [INFO] GET /js/landing.js - 200 - 14ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:43.625Z"}
[2025-07-22T19:16:44.348Z] [INFO] GET /platform-stats - 200 - 606ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"606ms","timestamp":"2025-07-22T19:16:44.348Z"}
[2025-07-22T19:16:44.469Z] [INFO] GET / - 200 - 10ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:44.469Z"}
[2025-07-22T19:16:44.538Z] [INFO] GET /images/lesson1.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:16:44.538Z"}
[2025-07-22T19:16:44.563Z] [INFO] GET /images/lesson2.jpg - 200 - 38ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"38ms","timestamp":"2025-07-22T19:16:44.563Z"}
[2025-07-22T19:16:44.594Z] [INFO] GET /css/style.css - 200 - 76ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"76ms","timestamp":"2025-07-22T19:16:44.594Z"}
[2025-07-22T19:16:44.609Z] [INFO] GET /images/lesson3.jpg - 200 - 29ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:16:44.609Z"}
[2025-07-22T19:16:44.626Z] [INFO] GET /images/lesson4.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:44.626Z"}
[2025-07-22T19:16:44.666Z] [INFO] GET /js/nav-mobile.js - 200 - 35ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"35ms","timestamp":"2025-07-22T19:16:44.666Z"}
[2025-07-22T19:16:44.667Z] [INFO] GET /js/network-animation.js - 200 - 35ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"35ms","timestamp":"2025-07-22T19:16:44.667Z"}
[2025-07-22T19:16:44.676Z] [INFO] GET /js/landing.js - 200 - 44ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"44ms","timestamp":"2025-07-22T19:16:44.676Z"}
[2025-07-22T19:16:44.818Z] [INFO] GET /platform-stats - 200 - 611ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"611ms","timestamp":"2025-07-22T19:16:44.818Z"}
üîê requireStudentAuthForHTML check: {
  url: '/profile',
  sessionId: 'Xy4PeI5kxCewiB-tYkRDy6iOt7L_bo6N',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:16:44.854Z] [INFO] GET /profile - 302 - 6ms | {"method":"GET","url":"/profile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"6ms","timestamp":"2025-07-22T19:16:44.854Z"}
[2025-07-22T19:16:44.898Z] [INFO] GET /student/login?redirect=%2Fprofile - 200 - 31ms | {"method":"GET","url":"/student/login?redirect=%2Fprofile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:16:44.898Z"}
[2025-07-22T19:16:44.966Z] [INFO] GET /js/device-id.js - 200 - 7ms | {"method":"GET","url":"/js/device-id.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:44.966Z"}
[2025-07-22T19:16:45.718Z] [INFO] GET /platform-stats - 200 - 587ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"587ms","timestamp":"2025-07-22T19:16:45.718Z"}
[2025-07-22T19:16:47.383Z] [INFO] GET / - 200 - 8ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:47.383Z"}
[2025-07-22T19:16:47.479Z] [INFO] GET /images/lesson1.jpg - 200 - 19ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:16:47.479Z"}
[2025-07-22T19:16:47.491Z] [INFO] GET /images/lesson2.jpg - 200 - 28ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:16:47.491Z"}
[2025-07-22T19:16:47.498Z] [INFO] GET /images/lesson4.jpg - 200 - 33ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"33ms","timestamp":"2025-07-22T19:16:47.498Z"}
[2025-07-22T19:16:47.500Z] [INFO] GET /images/lesson3.jpg - 200 - 37ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"37ms","timestamp":"2025-07-22T19:16:47.500Z"}
[2025-07-22T19:16:47.508Z] [INFO] GET /css/style.css - 200 - 56ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"56ms","timestamp":"2025-07-22T19:16:47.508Z"}
[2025-07-22T19:16:47.523Z] [INFO] GET /js/nav-mobile.js - 200 - 41ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"41ms","timestamp":"2025-07-22T19:16:47.523Z"}
[2025-07-22T19:16:47.550Z] [INFO] GET /js/network-animation.js - 200 - 59ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"59ms","timestamp":"2025-07-22T19:16:47.550Z"}
[2025-07-22T19:16:47.586Z] [INFO] GET /js/landing.js - 200 - 63ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"63ms","timestamp":"2025-07-22T19:16:47.586Z"}
[2025-07-22T19:16:47.720Z] [INFO] GET / - 200 - 10ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:16:47.720Z"}
[2025-07-22T19:16:47.783Z] [INFO] GET /images/lesson1.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:47.783Z"}
[2025-07-22T19:16:47.784Z] [INFO] GET /images/lesson2.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:47.784Z"}
[2025-07-22T19:16:47.789Z] [INFO] GET /css/style.css - 200 - 20ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:16:47.789Z"}
[2025-07-22T19:16:47.818Z] [INFO] GET /images/lesson3.jpg - 200 - 2ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:47.818Z"}
[2025-07-22T19:16:47.836Z] [INFO] GET /images/lesson4.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:47.836Z"}
[2025-07-22T19:16:47.857Z] [INFO] GET /js/nav-mobile.js - 200 - 1ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"1ms","timestamp":"2025-07-22T19:16:47.857Z"}
[2025-07-22T19:16:47.875Z] [INFO] GET /js/network-animation.js - 200 - 12ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:16:47.875Z"}
[2025-07-22T19:16:47.877Z] [INFO] GET /js/landing.js - 200 - 14ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:47.877Z"}
[2025-07-22T19:16:48.432Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:16:48.432Z"}
Cache miss for /
[2025-07-22T19:16:48.886Z] [INFO] GET / - 200 - 9ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:16:48.886Z"}
[2025-07-22T19:16:48.965Z] [INFO] GET /images/lesson1.jpg - 200 - 31ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:16:48.964Z"}
[2025-07-22T19:16:48.965Z] [INFO] GET /images/lesson2.jpg - 200 - 19ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:16:48.965Z"}
[2025-07-22T19:16:49.017Z] [INFO] GET /css/style.css - 200 - 86ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"86ms","timestamp":"2025-07-22T19:16:49.017Z"}
[2025-07-22T19:16:49.028Z] [INFO] GET /images/lesson4.jpg - 200 - 43ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"43ms","timestamp":"2025-07-22T19:16:49.028Z"}
[2025-07-22T19:16:49.036Z] [INFO] GET /images/lesson3.jpg - 200 - 69ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"69ms","timestamp":"2025-07-22T19:16:49.036Z"}
[2025-07-22T19:16:49.068Z] [INFO] GET /js/network-animation.js - 200 - 83ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"83ms","timestamp":"2025-07-22T19:16:49.068Z"}
[2025-07-22T19:16:49.094Z] [INFO] GET /js/nav-mobile.js - 200 - 109ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"109ms","timestamp":"2025-07-22T19:16:49.094Z"}
[2025-07-22T19:16:49.094Z] [INFO] GET /js/landing.js - 200 - 109ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"109ms","timestamp":"2025-07-22T19:16:49.094Z"}
[2025-07-22T19:16:49.353Z] [INFO] GET /platform-stats - 200 - 534ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"534ms","timestamp":"2025-07-22T19:16:49.353Z"}
[2025-07-22T19:16:49.382Z] [INFO] GET /platform-stats - 200 - 727ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"727ms","timestamp":"2025-07-22T19:16:49.382Z"}
[2025-07-22T19:16:49.588Z] [INFO] GET / - 200 - 7ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:49.588Z"}
[2025-07-22T19:16:49.645Z] [INFO] GET /images/lesson1.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:16:49.645Z"}
[2025-07-22T19:16:49.648Z] [INFO] GET /images/lesson2.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:16:49.648Z"}
[2025-07-22T19:16:49.657Z] [INFO] GET /css/style.css - 200 - 33ms | {"method":"GET","url":"/css/style.css","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"33ms","timestamp":"2025-07-22T19:16:49.657Z"}
[2025-07-22T19:16:49.685Z] [INFO] GET /images/lesson4.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:49.685Z"}
[2025-07-22T19:16:49.692Z] [INFO] GET /images/lesson3.jpg - 200 - 18ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:16:49.692Z"}
[2025-07-22T19:16:49.697Z] [INFO] GET /js/nav-mobile.js - 200 - 23ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"23ms","timestamp":"2025-07-22T19:16:49.697Z"}
[2025-07-22T19:16:49.706Z] [INFO] GET /js/network-animation.js - 200 - 26ms | {"method":"GET","url":"/js/network-animation.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"26ms","timestamp":"2025-07-22T19:16:49.706Z"}
[2025-07-22T19:16:49.707Z] [INFO] GET /js/landing.js - 200 - 23ms | {"method":"GET","url":"/js/landing.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"23ms","timestamp":"2025-07-22T19:16:49.707Z"}
[2025-07-22T19:16:49.979Z] [INFO] GET / - 304 - 12ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"12ms","timestamp":"2025-07-22T19:16:49.979Z"}
Cache miss for /
[2025-07-22T19:16:50.588Z] [INFO] GET /platform-stats - 200 - 518ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"518ms","timestamp":"2025-07-22T19:16:50.588Z"}
[2025-07-22T19:16:51.196Z] [INFO] GET /platform-stats - 200 - 588ms | {"method":"GET","url":"/platform-stats","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"588ms","timestamp":"2025-07-22T19:16:51.196Z"}
[2025-07-22T19:16:51.478Z] [INFO] GET / - 304 - 8ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"8ms","timestamp":"2025-07-22T19:16:51.478Z"}
[2025-07-22T19:16:51.772Z] [INFO] GET / - 304 - 5ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"5ms","timestamp":"2025-07-22T19:16:51.772Z"}
[2025-07-22T19:16:52.409Z] [INFO] GET / - 304 - 3ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"3ms","timestamp":"2025-07-22T19:16:52.409Z"}
[2025-07-22T19:16:52.616Z] [INFO] GET / - 304 - 4ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"4ms","timestamp":"2025-07-22T19:16:52.616Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: 'gMILhaHiLtP_DMIUfZqb1Tcp-utEy_mO',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:16:52.966Z] [INFO] GET /lessons - 302 - 2ms | {"method":"GET","url":"/lessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"2ms","timestamp":"2025-07-22T19:16:52.966Z"}
[2025-07-22T19:16:52.972Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 4ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:52.972Z"}
[2025-07-22T19:16:52.992Z] [INFO] GET /js/device-id.js - 200 - 6ms | {"method":"GET","url":"/js/device-id.js","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:16:52.992Z"}
[2025-07-22T19:16:53.094Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:16:53.094Z"}
üîê requireStudentAuthForHTML check: {
  url: '/leaderboard',
  sessionId: 'Du7jW2RRJCucqk2um0RvMV9JZxzSGvXu',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:16:53.399Z] [INFO] GET /leaderboard - 302 - 1ms | {"method":"GET","url":"/leaderboard","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"1ms","timestamp":"2025-07-22T19:16:53.399Z"}
[2025-07-22T19:16:53.404Z] [INFO] GET /student/login?redirect=%2Fleaderboard - 200 - 2ms | {"method":"GET","url":"/student/login?redirect=%2Fleaderboard","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:16:53.404Z"}
[2025-07-22T19:16:53.480Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:16:53.480Z"}
üîê requireStudentAuthForHTML check: {
  url: '/profile',
  sessionId: '4iHJqhzcS7i07bpicKTvJqvCX53QZua4',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:16:53.861Z] [INFO] GET /profile - 302 - 2ms | {"method":"GET","url":"/profile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":302,"responseTime":"2ms","timestamp":"2025-07-22T19:16:53.861Z"}
[2025-07-22T19:16:53.878Z] [INFO] GET /student/login?redirect=%2Fprofile - 200 - 11ms | {"method":"GET","url":"/student/login?redirect=%2Fprofile","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:53.878Z"}
[2025-07-22T19:16:53.978Z] [INFO] GET / - 304 - 2ms | {"method":"GET","url":"/","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.7258.5 Safari/537.36","statusCode":304,"responseTime":"2ms","timestamp":"2025-07-22T19:16:53.978Z"}
[2025-07-22T19:16:56.659Z] [INFO] GET / - 200 - 7ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:56.659Z"}
[2025-07-22T19:16:56.910Z] [INFO] GET /js/landing.js - 200 - 4ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:56.910Z"}
[2025-07-22T19:16:56.911Z] [INFO] GET /js/network-animation.js - 200 - 3ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:16:56.911Z"}
[2025-07-22T19:16:56.912Z] [INFO] GET /css/style.css - 200 - 9ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:16:56.912Z"}
[2025-07-22T19:16:56.913Z] [INFO] GET /js/nav-mobile.js - 200 - 4ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:56.913Z"}
[2025-07-22T19:16:57.303Z] [INFO] GET /images/lesson4.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:16:57.303Z"}
[2025-07-22T19:16:57.311Z] [INFO] GET /images/lesson1.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:57.311Z"}
[2025-07-22T19:16:57.313Z] [INFO] GET /images/lesson2.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:16:57.313Z"}
[2025-07-22T19:16:57.314Z] [INFO] GET /images/lesson3.jpg - 200 - 18ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:16:57.314Z"}
[2025-07-22T19:16:58.165Z] [INFO] GET /platform-stats - 200 - 626ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"626ms","timestamp":"2025-07-22T19:16:58.165Z"}
[2025-07-22T19:16:58.180Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:16:58.201Z] [INFO] GET / - 404 - 22ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"22ms","timestamp":"2025-07-22T19:16:58.201Z"}
[2025-07-22T19:16:58.377Z] [INFO] GET / - 200 - 8ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:16:58.377Z"}
[2025-07-22T19:16:58.813Z] [INFO] GET /js/nav-mobile.js - 200 - 14ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:16:58.813Z"}
[2025-07-22T19:16:58.817Z] [INFO] GET /js/network-animation.js - 200 - 17ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:16:58.817Z"}
[2025-07-22T19:16:58.821Z] [INFO] GET /css/style.css - 200 - 27ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:16:58.821Z"}
[2025-07-22T19:16:58.825Z] [INFO] GET /js/landing.js - 200 - 16ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:16:58.825Z"}
[2025-07-22T19:16:59.480Z] [INFO] GET /images/lesson2.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:16:59.480Z"}
[2025-07-22T19:16:59.484Z] [INFO] GET /images/lesson4.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:16:59.484Z"}
[2025-07-22T19:16:59.485Z] [INFO] GET /images/lesson1.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:16:59.485Z"}
[2025-07-22T19:16:59.500Z] [INFO] GET /images/lesson3.jpg - 200 - 30ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"30ms","timestamp":"2025-07-22T19:16:59.500Z"}
[2025-07-22T19:16:59.657Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:16:59.657Z"}
[2025-07-22T19:16:59.831Z] [INFO] GET /css/style.css - 200 - 31ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"31ms","timestamp":"2025-07-22T19:16:59.831Z"}
[2025-07-22T19:16:59.858Z] [INFO] GET /js/nav-mobile.js - 200 - 28ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:16:59.858Z"}
[2025-07-22T19:16:59.859Z] [INFO] GET /js/network-animation.js - 200 - 28ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"28ms","timestamp":"2025-07-22T19:16:59.859Z"}
[2025-07-22T19:16:59.877Z] [INFO] GET /js/landing.js - 200 - 32ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"32ms","timestamp":"2025-07-22T19:16:59.877Z"}
[2025-07-22T19:17:00.027Z] [INFO] GET / - 200 - 12ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:17:00.027Z"}
[2025-07-22T19:17:00.285Z] [INFO] GET /images/lesson4.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:00.285Z"}
[2025-07-22T19:17:00.286Z] [INFO] GET /images/lesson1.jpg - 200 - 11ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:17:00.286Z"}
[2025-07-22T19:17:00.294Z] [INFO] GET /images/lesson2.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:17:00.294Z"}
[2025-07-22T19:17:00.295Z] [INFO] GET /images/lesson3.jpg - 200 - 20ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"20ms","timestamp":"2025-07-22T19:17:00.295Z"}
[2025-07-22T19:17:00.301Z] [INFO] GET /platform-stats - 200 - 594ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"594ms","timestamp":"2025-07-22T19:17:00.301Z"}
[2025-07-22T19:17:00.467Z] [INFO] GET /js/nav-mobile.js - 200 - 49ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"49ms","timestamp":"2025-07-22T19:17:00.467Z"}
[2025-07-22T19:17:00.478Z] [INFO] GET /js/network-animation.js - 200 - 60ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"60ms","timestamp":"2025-07-22T19:17:00.478Z"}
[2025-07-22T19:17:00.482Z] [INFO] GET /css/style.css - 200 - 73ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"73ms","timestamp":"2025-07-22T19:17:00.482Z"}
[2025-07-22T19:17:00.484Z] [INFO] GET /js/landing.js - 200 - 66ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"66ms","timestamp":"2025-07-22T19:17:00.484Z"}
[2025-07-22T19:17:00.822Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:00.850Z] [INFO] GET / - 404 - 31ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"31ms","timestamp":"2025-07-22T19:17:00.850Z"}
[2025-07-22T19:17:01.011Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:01.015Z] [INFO] GET / - 404 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"4ms","timestamp":"2025-07-22T19:17:01.015Z"}
[2025-07-22T19:17:01.126Z] [INFO] GET /images/lesson1.jpg - 200 - 15ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"15ms","timestamp":"2025-07-22T19:17:01.126Z"}
[2025-07-22T19:17:01.128Z] [INFO] GET /images/lesson2.jpg - 200 - 17ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:17:01.128Z"}
[2025-07-22T19:17:01.137Z] [INFO] GET /images/lesson4.jpg - 200 - 25ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:17:01.137Z"}
[2025-07-22T19:17:01.139Z] [INFO] GET /images/lesson3.jpg - 200 - 27ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:17:01.139Z"}
[2025-07-22T19:17:01.274Z] [INFO] GET /platform-stats - 200 - 550ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"550ms","timestamp":"2025-07-22T19:17:01.274Z"}
[2025-07-22T19:17:02.042Z] [INFO] GET /platform-stats - 200 - 542ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"542ms","timestamp":"2025-07-22T19:17:02.042Z"}
[2025-07-22T19:17:02.094Z] [INFO] GET / - 200 - 6ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:17:02.094Z"}
[2025-07-22T19:17:02.364Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:02.374Z] [INFO] GET / - 404 - 11ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"11ms","timestamp":"2025-07-22T19:17:02.374Z"}
[2025-07-22T19:17:02.477Z] [INFO] GET /css/style.css - 200 - 8ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:17:02.477Z"}
[2025-07-22T19:17:02.508Z] [INFO] GET /js/nav-mobile.js - 200 - 21ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:17:02.508Z"}
[2025-07-22T19:17:02.517Z] [INFO] GET /js/network-animation.js - 200 - 27ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:17:02.517Z"}
[2025-07-22T19:17:02.519Z] [INFO] GET /js/landing.js - 200 - 21ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:17:02.519Z"}
[2025-07-22T19:17:02.722Z] [INFO] GET / - 200 - 11ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:17:02.722Z"}
[2025-07-22T19:17:02.921Z] [INFO] GET /js/nav-mobile.js - 200 - 21ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"21ms","timestamp":"2025-07-22T19:17:02.921Z"}
[2025-07-22T19:17:02.927Z] [INFO] GET /css/style.css - 200 - 36ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"36ms","timestamp":"2025-07-22T19:17:02.927Z"}
[2025-07-22T19:17:02.928Z] [INFO] GET /js/network-animation.js - 200 - 29ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"29ms","timestamp":"2025-07-22T19:17:02.928Z"}
[2025-07-22T19:17:02.930Z] [INFO] GET /js/landing.js - 200 - 25ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"25ms","timestamp":"2025-07-22T19:17:02.930Z"}
[2025-07-22T19:17:03.160Z] [INFO] GET /images/lesson3.jpg - 200 - 8ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:17:03.160Z"}
[2025-07-22T19:17:03.169Z] [INFO] GET /images/lesson4.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:03.169Z"}
[2025-07-22T19:17:03.176Z] [INFO] GET /images/lesson1.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:03.176Z"}
[2025-07-22T19:17:03.179Z] [INFO] GET /images/lesson2.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:03.179Z"}
[2025-07-22T19:17:03.424Z] [INFO] GET /images/lesson2.jpg - 200 - 9ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:17:03.424Z"}
[2025-07-22T19:17:03.428Z] [INFO] GET /images/lesson4.jpg - 200 - 9ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:17:03.428Z"}
[2025-07-22T19:17:03.434Z] [INFO] GET /images/lesson1.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:03.434Z"}
[2025-07-22T19:17:03.435Z] [INFO] GET /images/lesson3.jpg - 200 - 17ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:17:03.435Z"}
[2025-07-22T19:17:03.827Z] [INFO] GET /platform-stats - 200 - 538ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"538ms","timestamp":"2025-07-22T19:17:03.827Z"}
[2025-07-22T19:17:04.107Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:04.115Z] [INFO] GET / - 404 - 13ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"13ms","timestamp":"2025-07-22T19:17:04.115Z"}
[2025-07-22T19:17:04.316Z] [INFO] GET /platform-stats - 200 - 502ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"502ms","timestamp":"2025-07-22T19:17:04.316Z"}
[2025-07-22T19:17:04.390Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:04.394Z] [INFO] GET / - 404 - 7ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"7ms","timestamp":"2025-07-22T19:17:04.394Z"}
[2025-07-22T19:17:05.763Z] [INFO] GET / - 200 - 11ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:17:05.763Z"}
[2025-07-22T19:17:05.901Z] [INFO] GET /js/landing.js - 200 - 7ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:17:05.901Z"}
[2025-07-22T19:17:05.903Z] [INFO] GET /css/style.css - 200 - 14ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:05.903Z"}
[2025-07-22T19:17:05.905Z] [INFO] GET /js/network-animation.js - 200 - 11ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:17:05.905Z"}
[2025-07-22T19:17:05.907Z] [INFO] GET /js/nav-mobile.js - 200 - 13ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:17:05.907Z"}
[2025-07-22T19:17:06.386Z] [INFO] GET /images/lesson4.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:06.386Z"}
[2025-07-22T19:17:06.387Z] [INFO] GET /images/lesson2.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:06.387Z"}
[2025-07-22T19:17:06.388Z] [INFO] GET /images/lesson1.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:06.388Z"}
[2025-07-22T19:17:06.389Z] [INFO] GET /images/lesson3.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:17:06.389Z"}
[2025-07-22T19:17:06.881Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:06.893Z] [INFO] GET / - 404 - 16ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"16ms","timestamp":"2025-07-22T19:17:06.893Z"}
[2025-07-22T19:17:07.409Z] [INFO] GET /platform-stats - 200 - 811ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"811ms","timestamp":"2025-07-22T19:17:07.408Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: 'lv1zpu5WOBYMYd0r_jETamhIO9Gbc93B',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:17:09.176Z] [INFO] GET /lessons - 302 - 2ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"2ms","timestamp":"2025-07-22T19:17:09.176Z"}
[2025-07-22T19:17:09.199Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 9ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:17:09.199Z"}
[2025-07-22T19:17:09.275Z] [INFO] GET /js/device-id.js - 200 - 3ms | {"method":"GET","url":"/js/device-id.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:09.275Z"}
[2025-07-22T19:17:10.931Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:10.931Z"}
[2025-07-22T19:17:11.017Z] [INFO] GET /css/style.css - 200 - 11ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"11ms","timestamp":"2025-07-22T19:17:11.017Z"}
[2025-07-22T19:17:11.020Z] [INFO] GET /js/network-animation.js - 200 - 8ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:17:11.020Z"}
[2025-07-22T19:17:11.022Z] [INFO] GET /js/nav-mobile.js - 200 - 10ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:11.022Z"}
[2025-07-22T19:17:11.025Z] [INFO] GET /js/landing.js - 200 - 13ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:17:11.025Z"}
[2025-07-22T19:17:11.515Z] [INFO] GET /images/lesson1.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:17:11.515Z"}
[2025-07-22T19:17:11.516Z] [INFO] GET /images/lesson2.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:17:11.516Z"}
[2025-07-22T19:17:11.517Z] [INFO] GET /images/lesson4.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:17:11.517Z"}
[2025-07-22T19:17:11.519Z] [INFO] GET /images/lesson3.jpg - 200 - 8ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:17:11.519Z"}
[2025-07-22T19:17:12.164Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:12.175Z] [INFO] GET / - 404 - 12ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"12ms","timestamp":"2025-07-22T19:17:12.175Z"}
[2025-07-22T19:17:12.482Z] [INFO] GET /platform-stats - 200 - 603ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"603ms","timestamp":"2025-07-22T19:17:12.482Z"}
üîê requireStudentAuthForHTML check: {
  url: '/profile',
  sessionId: '6LDLMi1MS_SX6hxQDDoeHfLwN7MxW3IC',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:17:12.769Z] [INFO] GET /profile - 302 - 2ms | {"method":"GET","url":"/profile","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"2ms","timestamp":"2025-07-22T19:17:12.769Z"}
[2025-07-22T19:17:12.793Z] [INFO] GET /student/login?redirect=%2Fprofile - 200 - 7ms | {"method":"GET","url":"/student/login?redirect=%2Fprofile","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:17:12.793Z"}
[2025-07-22T19:17:12.903Z] [INFO] GET /js/device-id.js - 200 - 2ms | {"method":"GET","url":"/js/device-id.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:17:12.903Z"}
[2025-07-22T19:17:14.757Z] [INFO] GET / - 200 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:14.757Z"}
[2025-07-22T19:17:14.981Z] [INFO] GET /css/style.css - 200 - 60ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"60ms","timestamp":"2025-07-22T19:17:14.981Z"}
[2025-07-22T19:17:14.981Z] [INFO] GET /js/nav-mobile.js - 200 - 50ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"50ms","timestamp":"2025-07-22T19:17:14.981Z"}
[2025-07-22T19:17:14.993Z] [INFO] GET /js/network-animation.js - 200 - 45ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"45ms","timestamp":"2025-07-22T19:17:14.993Z"}
[2025-07-22T19:17:15.004Z] [INFO] GET /js/landing.js - 200 - 22ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"22ms","timestamp":"2025-07-22T19:17:15.004Z"}
[2025-07-22T19:17:15.444Z] [INFO] GET /images/lesson2.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:17:15.443Z"}
[2025-07-22T19:17:15.447Z] [INFO] GET /images/lesson1.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:15.447Z"}
[2025-07-22T19:17:15.453Z] [INFO] GET /images/lesson4.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:15.453Z"}
[2025-07-22T19:17:15.456Z] [INFO] GET /images/lesson3.jpg - 200 - 17ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"17ms","timestamp":"2025-07-22T19:17:15.456Z"}
[2025-07-22T19:17:15.969Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:15.978Z] [INFO] GET / - 404 - 9ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"9ms","timestamp":"2025-07-22T19:17:15.978Z"}
[2025-07-22T19:17:16.186Z] [INFO] GET /platform-stats - 200 - 551ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"551ms","timestamp":"2025-07-22T19:17:16.186Z"}
[2025-07-22T19:17:17.491Z] [INFO] GET / - 200 - 3ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:17.491Z"}
[2025-07-22T19:17:17.608Z] [INFO] GET /css/style.css - 200 - 18ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"18ms","timestamp":"2025-07-22T19:17:17.608Z"}
[2025-07-22T19:17:17.672Z] [INFO] GET /js/nav-mobile.js - 200 - 52ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"52ms","timestamp":"2025-07-22T19:17:17.672Z"}
[2025-07-22T19:17:17.675Z] [INFO] GET /js/network-animation.js - 200 - 54ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"54ms","timestamp":"2025-07-22T19:17:17.675Z"}
[2025-07-22T19:17:17.676Z] [INFO] GET /js/landing.js - 200 - 54ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"54ms","timestamp":"2025-07-22T19:17:17.676Z"}
[2025-07-22T19:17:18.072Z] [INFO] GET /images/lesson4.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:18.072Z"}
[2025-07-22T19:17:18.072Z] [INFO] GET /images/lesson2.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:18.072Z"}
[2025-07-22T19:17:18.073Z] [INFO] GET /images/lesson1.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:18.073Z"}
[2025-07-22T19:17:18.074Z] [INFO] GET /images/lesson3.jpg - 200 - 6ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"6ms","timestamp":"2025-07-22T19:17:18.074Z"}
[2025-07-22T19:17:18.689Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:18.703Z] [INFO] GET / - 404 - 15ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"15ms","timestamp":"2025-07-22T19:17:18.703Z"}
[2025-07-22T19:17:18.947Z] [INFO] GET /platform-stats - 200 - 584ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"584ms","timestamp":"2025-07-22T19:17:18.947Z"}
[2025-07-22T19:17:19.941Z] [INFO] GET / - 200 - 14ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:19.941Z"}
[2025-07-22T19:17:20.076Z] [INFO] GET /js/network-animation.js - 200 - 16ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:17:20.076Z"}
[2025-07-22T19:17:20.086Z] [INFO] GET /css/style.css - 200 - 27ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"27ms","timestamp":"2025-07-22T19:17:20.086Z"}
[2025-07-22T19:17:20.115Z] [INFO] GET /js/nav-mobile.js - 200 - 53ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"53ms","timestamp":"2025-07-22T19:17:20.115Z"}
[2025-07-22T19:17:20.117Z] [INFO] GET /js/landing.js - 200 - 40ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"40ms","timestamp":"2025-07-22T19:17:20.117Z"}
[2025-07-22T19:17:20.530Z] [INFO] GET /images/lesson3.jpg - 200 - 2ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:17:20.530Z"}
[2025-07-22T19:17:20.535Z] [INFO] GET /images/lesson4.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:20.535Z"}
[2025-07-22T19:17:20.536Z] [INFO] GET /images/lesson1.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:20.536Z"}
[2025-07-22T19:17:20.538Z] [INFO] GET /images/lesson2.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:17:20.538Z"}
[2025-07-22T19:17:20.977Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:20.995Z] [INFO] GET / - 404 - 19ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"19ms","timestamp":"2025-07-22T19:17:20.995Z"}
[2025-07-22T19:17:21.064Z] [INFO] GET / - 304 - 2ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"2ms","timestamp":"2025-07-22T19:17:21.064Z"}
Cache miss for /
[2025-07-22T19:17:21.352Z] [INFO] GET /?limit=1 - 200 - 216ms | {"method":"GET","url":"/?limit=1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"216ms","timestamp":"2025-07-22T19:17:21.352Z"}
[2025-07-22T19:17:21.718Z] [INFO] GET /platform-stats - 200 - 468ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"468ms","timestamp":"2025-07-22T19:17:21.718Z"}
[2025-07-22T19:17:23.241Z] [INFO] GET / - 200 - 9ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:17:23.241Z"}
[2025-07-22T19:17:23.341Z] [INFO] GET /css/style.css - 200 - 19ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"19ms","timestamp":"2025-07-22T19:17:23.341Z"}
[2025-07-22T19:17:23.342Z] [INFO] GET /js/nav-mobile.js - 200 - 14ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:23.342Z"}
[2025-07-22T19:17:23.347Z] [INFO] GET /js/network-animation.js - 200 - 14ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:23.347Z"}
[2025-07-22T19:17:23.349Z] [INFO] GET /js/landing.js - 200 - 13ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:17:23.349Z"}
[2025-07-22T19:17:23.791Z] [INFO] GET /images/lesson1.jpg - 200 - 3ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:23.791Z"}
[2025-07-22T19:17:23.792Z] [INFO] GET /images/lesson2.jpg - 200 - 4ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:23.792Z"}
[2025-07-22T19:17:23.794Z] [INFO] GET /images/lesson4.jpg - 200 - 5ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"5ms","timestamp":"2025-07-22T19:17:23.794Z"}
[2025-07-22T19:17:23.796Z] [INFO] GET /images/lesson3.jpg - 200 - 7ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:17:23.796Z"}
[2025-07-22T19:17:24.293Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:24.313Z] [INFO] GET / - 404 - 20ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"20ms","timestamp":"2025-07-22T19:17:24.313Z"}
[2025-07-22T19:17:24.529Z] [INFO] GET /platform-stats - 200 - 507ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"507ms","timestamp":"2025-07-22T19:17:24.529Z"}
[2025-07-22T19:17:25.745Z] [INFO] GET / - 200 - 10ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:25.745Z"}
[2025-07-22T19:17:25.873Z] [INFO] GET /js/nav-mobile.js - 200 - 24ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"24ms","timestamp":"2025-07-22T19:17:25.873Z"}
[2025-07-22T19:17:25.888Z] [INFO] GET /js/network-animation.js - 200 - 32ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"32ms","timestamp":"2025-07-22T19:17:25.888Z"}
[2025-07-22T19:17:25.895Z] [INFO] GET /js/landing.js - 200 - 38ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"38ms","timestamp":"2025-07-22T19:17:25.895Z"}
[2025-07-22T19:17:25.902Z] [INFO] GET /css/style.css - 200 - 54ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"54ms","timestamp":"2025-07-22T19:17:25.902Z"}
[2025-07-22T19:17:26.363Z] [INFO] GET /images/lesson4.jpg - 200 - 9ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"9ms","timestamp":"2025-07-22T19:17:26.363Z"}
[2025-07-22T19:17:26.365Z] [INFO] GET /images/lesson1.jpg - 200 - 10ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"10ms","timestamp":"2025-07-22T19:17:26.365Z"}
[2025-07-22T19:17:26.366Z] [INFO] GET /images/lesson3.jpg - 200 - 12ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:17:26.366Z"}
[2025-07-22T19:17:26.370Z] [INFO] GET /images/lesson2.jpg - 200 - 12ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:17:26.370Z"}
[2025-07-22T19:17:26.900Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:26.913Z] [INFO] GET / - 404 - 14ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"14ms","timestamp":"2025-07-22T19:17:26.913Z"}
[2025-07-22T19:17:27.038Z] [INFO] GET / - 304 - 6ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"6ms","timestamp":"2025-07-22T19:17:27.038Z"}
Cache miss for /
[2025-07-22T19:17:27.246Z] [INFO] GET /?limit=1 - 200 - 186ms | {"method":"GET","url":"/?limit=1","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"186ms","timestamp":"2025-07-22T19:17:27.246Z"}
[2025-07-22T19:17:27.637Z] [INFO] GET /platform-stats - 200 - 418ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"418ms","timestamp":"2025-07-22T19:17:27.637Z"}
[2025-07-22T19:17:29.137Z] [INFO] GET / - 200 - 7ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:17:29.137Z"}
[2025-07-22T19:17:29.258Z] [INFO] GET /js/network-animation.js - 200 - 4ms | {"method":"GET","url":"/js/network-animation.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:29.258Z"}
[2025-07-22T19:17:29.264Z] [INFO] GET /js/nav-mobile.js - 200 - 12ms | {"method":"GET","url":"/js/nav-mobile.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"12ms","timestamp":"2025-07-22T19:17:29.264Z"}
[2025-07-22T19:17:29.277Z] [INFO] GET /js/landing.js - 200 - 23ms | {"method":"GET","url":"/js/landing.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"23ms","timestamp":"2025-07-22T19:17:29.277Z"}
[2025-07-22T19:17:29.292Z] [INFO] GET /css/style.css - 200 - 44ms | {"method":"GET","url":"/css/style.css","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"44ms","timestamp":"2025-07-22T19:17:29.292Z"}
[2025-07-22T19:17:29.503Z] [INFO] GET /images/lesson4.jpg - 200 - 13ms | {"method":"GET","url":"/images/lesson4.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"13ms","timestamp":"2025-07-22T19:17:29.503Z"}
[2025-07-22T19:17:29.508Z] [INFO] GET /images/lesson2.jpg - 200 - 14ms | {"method":"GET","url":"/images/lesson2.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:29.508Z"}
[2025-07-22T19:17:29.510Z] [INFO] GET /images/lesson1.jpg - 200 - 16ms | {"method":"GET","url":"/images/lesson1.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"16ms","timestamp":"2025-07-22T19:17:29.510Z"}
[2025-07-22T19:17:29.515Z] [INFO] GET /images/lesson3.jpg - 200 - 23ms | {"method":"GET","url":"/images/lesson3.jpg","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"23ms","timestamp":"2025-07-22T19:17:29.515Z"}
[2025-07-22T19:17:30.130Z] [WARN] 404 Not Found | {"url":"/favicon.ico","method":"GET","ip":"::ffff:127.0.0.1"}
[2025-07-22T19:17:30.141Z] [INFO] GET / - 404 - 12ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":404,"responseTime":"12ms","timestamp":"2025-07-22T19:17:30.141Z"}
[2025-07-22T19:17:30.342Z] [INFO] GET /platform-stats - 200 - 567ms | {"method":"GET","url":"/platform-stats","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"567ms","timestamp":"2025-07-22T19:17:30.342Z"}
[2025-07-22T19:17:30.982Z] [INFO] GET / - 200 - 8ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"8ms","timestamp":"2025-07-22T19:17:30.982Z"}
[2025-07-22T19:17:31.390Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:17:31.390Z"}
[2025-07-22T19:17:32.045Z] [INFO] GET / - 304 - 4ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"4ms","timestamp":"2025-07-22T19:17:32.045Z"}
[2025-07-22T19:17:32.345Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:17:32.345Z"}
üîê requireStudentAuthForHTML check: {
  url: '/lessons',
  sessionId: 'YLNtU5TmlqK55EaGl8lKngUQ3y42G9FQ',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:17:32.896Z] [INFO] GET /lessons - 302 - 3ms | {"method":"GET","url":"/lessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"3ms","timestamp":"2025-07-22T19:17:32.896Z"}
[2025-07-22T19:17:32.916Z] [INFO] GET /student/login?redirect=%2Flessons - 200 - 4ms | {"method":"GET","url":"/student/login?redirect=%2Flessons","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"4ms","timestamp":"2025-07-22T19:17:32.916Z"}
[2025-07-22T19:17:32.993Z] [INFO] GET /js/device-id.js - 200 - 7ms | {"method":"GET","url":"/js/device-id.js","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"7ms","timestamp":"2025-07-22T19:17:32.993Z"}
[2025-07-22T19:17:33.126Z] [INFO] GET / - 304 - 1ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"1ms","timestamp":"2025-07-22T19:17:33.126Z"}
üîê requireStudentAuthForHTML check: {
  url: '/leaderboard',
  sessionId: 'EappiGIUFZ9U6cQdBxD8_1sOQZ3VeW2W',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:17:33.739Z] [INFO] GET /leaderboard - 302 - 4ms | {"method":"GET","url":"/leaderboard","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"4ms","timestamp":"2025-07-22T19:17:33.739Z"}
[2025-07-22T19:17:33.784Z] [INFO] GET /student/login?redirect=%2Fleaderboard - 200 - 14ms | {"method":"GET","url":"/student/login?redirect=%2Fleaderboard","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"14ms","timestamp":"2025-07-22T19:17:33.784Z"}
[2025-07-22T19:17:34.150Z] [INFO] GET / - 304 - 23ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"23ms","timestamp":"2025-07-22T19:17:34.150Z"}
üîê requireStudentAuthForHTML check: {
  url: '/profile',
  sessionId: '55dgh7kWvs5O6h11XMZ7Zi7RejFehD1m',
  userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2',
  isStudentAuthenticated: undefined,
  isAdminAuthenticated: false,
  hasAccess: false,
  studentId: undefined,
  studentName: undefined
}
‚ùå User not authenticated, redirecting to login
[2025-07-22T19:17:34.797Z] [INFO] GET /profile - 302 - 4ms | {"method":"GET","url":"/profile","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":302,"responseTime":"4ms","timestamp":"2025-07-22T19:17:34.797Z"}
[2025-07-22T19:17:34.824Z] [INFO] GET /student/login?redirect=%2Fprofile - 200 - 3ms | {"method":"GET","url":"/student/login?redirect=%2Fprofile","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:34.824Z"}
[2025-07-22T19:17:34.965Z] [INFO] GET / - 304 - 3ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0.2) Gecko/20100101 Firefox/140.0.2","statusCode":304,"responseTime":"3ms","timestamp":"2025-07-22T19:17:34.965Z"}
[2025-07-22T19:17:37.446Z] [INFO] GET / - 200 - 2ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"2ms","timestamp":"2025-07-22T19:17:37.446Z"}
[2025-07-22T19:17:37.460Z] [INFO] GET / - 200 - 3ms | {"method":"GET","url":"/","ip":"::ffff:127.0.0.1","statusCode":200,"responseTime":"3ms","timestamp":"2025-07-22T19:17:37.460Z"}
[2025-07-22T19:17:40.148Z] [INFO] SIGTERM received, shutting down gracefully
[2025-07-22T19:17:40.149Z] [INFO] Process terminated
